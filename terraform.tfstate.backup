{
  "version": 4,
  "terraform_version": "1.8.4",
  "serial": 324,
  "lineage": "eb5e6c02-645a-b95c-3f96-3e4896fbc3f2",
  "outputs": {
    "airflow_ui_password_secret_arn": {
      "value": "arn:aws:secretsmanager:ap-south-1:148761660875:secret:airflow-ui-admin-password-AOu3f6",
      "type": "string"
    },
    "nlb_cname": {
      "value": "airflow-f1586e0b97970a2e.elb.ap-south-1.amazonaws.com",
      "type": "string"
    },
    "s3_bucket": {
      "value": "airflow20240917201817138400000008",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "postgres_inline_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2302379518",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"elasticfilesystem:ClientWrite\",\n        \"elasticfilesystem:ClientRootAccess\",\n        \"elasticfilesystem:ClientMount\"\n      ],\n      \"Resource\": \"arn:aws:elasticfilesystem:ap-south-1:148761660875:file-system/fs-03e66b0ad1ab2a941\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"elasticfilesystem:AccessPointArn\": \"arn:aws:elasticfilesystem:ap-south-1:148761660875:access-point/fsap-00d8d05bd8e79a481\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "elasticfilesystem:ClientMount",
                  "elasticfilesystem:ClientRootAccess",
                  "elasticfilesystem:ClientWrite"
                ],
                "condition": [
                  {
                    "test": "StringEquals",
                    "values": [
                      "arn:aws:elasticfilesystem:ap-south-1:148761660875:access-point/fsap-00d8d05bd8e79a481"
                    ],
                    "variable": "elasticfilesystem:AccessPointArn"
                  }
                ],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:elasticfilesystem:ap-south-1:148761660875:file-system/fs-03e66b0ad1ab2a941"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "s3_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1710956945",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutObject\",\n        \"s3:ListObject\",\n        \"s3:GetObject\",\n        \"s3:DeleteObject\"\n      ],\n      \"Resource\": \"arn:aws:s3:::airflow20240917201817138400000008/*\"\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListBucket\",\n      \"Resource\": \"arn:aws:s3:::airflow20240917201817138400000008\"\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "s3:DeleteObject",
                  "s3:GetObject",
                  "s3:ListObject",
                  "s3:PutObject"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:s3:::airflow20240917201817138400000008/*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "s3:ListBucket"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:s3:::airflow20240917201817138400000008"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "scheduler_inline_policy_secrets",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1176399604",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"secretsmanager:GetSecretValue\",\n      \"Resource\": \"arn:aws:secretsmanager:ap-south-1:148761660875:secret:airflow-ui-admin-password-AOu3f6\"\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "secretsmanager:GetSecretValue"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:secretsmanager:ap-south-1:148761660875:secret:airflow-ui-admin-password-AOu3f6"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_vpc",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-south-1:148761660875:vpc/vpc-04b5a6106f2cd8ea5",
            "cidr_block": "172.31.0.0/16",
            "cidr_block_associations": [
              {
                "association_id": "vpc-cidr-assoc-0c19d3b77cd4ab3a8",
                "cidr_block": "172.31.0.0/16",
                "state": "associated"
              }
            ],
            "default": true,
            "dhcp_options_id": "dopt-0b70c8d2bdbd8f8e9",
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "enable_network_address_usage_metrics": false,
            "filter": null,
            "id": "vpc-04b5a6106f2cd8ea5",
            "instance_tenancy": "default",
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "main_route_table_id": "rtb-05f5b4f663383a2f8",
            "owner_id": "148761660875",
            "state": null,
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "flower_container_definitions",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "8c51f1025c178eea0f7956aefeaf1854ceb60744b3e2a8c2f84b16bd1dbf2997",
            "rendered": "[\n    {\n        \"name\": \"airflow-flower\",\n        \"image\": \"docker.io/apache/airflow:2.5.1@sha256:eef7c1cfcdd60a8dff245f2388aca35c4eaaa3077342357be3b1a6e46d62aa84\",\n        \"cpu\": 0,\n        \"links\": [],\n        \"portMappings\": [\n            {\n                \"containerPort\": 5555,\n                \"hostPort\": 5555,\n                \"protocol\": \"tcp\"\n            }\n        ],\n        \"essential\": true,\n        \"entryPoint\": [],\n        \"command\": [\n            \"celery\",\n            \"flower\"\n        ],\n        \"environment\": [\n            {\n                \"name\": \"AIRFLOW__CORE__SQL_ALCHEMY_CONN\",\n                \"value\": \"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__LOAD_EXAMPLES\",\n                \"value\": \"False\"\n            },\n            {\n                \"name\": \"AIRFLOW__CELERY__BROKER_URL\",\n                \"value\": \"redis://:@redis.airflow.local:6379/0\"\n            },\n            {\n                \"name\": \"AIRFLOW__CELERY__RESULT_BACKEND\",\n                \"value\": \"db+postgresql://airflow:airflow@postgres.airflow.local/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__EXECUTOR\",\n                \"value\": \"CeleryExecutor\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION\",\n                \"value\": \"true\"\n            },\n            {\n                \"name\": \"AIRFLOW__API__AUTH_BACKENDS\",\n                \"value\": \"airflow.api.auth.backend.basic_auth,airflow.api.auth.backend.session\"\n            },\n            {\n                \"name\": \"AIRFLOW__DATABASE__SQL_ALCHEMY_CONN\",\n                \"value\": \"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"\n            }\n        ],\n        \"environmentFiles\": [],\n        \"mountPoints\": [],\n        \"volumesFrom\": [],\n        \"linuxParameters\": {\n            \"devices\": [],\n            \"tmpfs\": []\n        },\n        \"secrets\": [],\n        \"dependsOn\": [],\n        \"user\": \"50000:0\",\n        \"dnsServers\": [],\n        \"dnsSearchDomains\": [],\n        \"extraHosts\": [],\n        \"dockerSecurityOptions\": [],\n        \"dockerLabels\": {},\n        \"ulimits\": [],\n        \"logConfiguration\": {\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]},\n        \"systemControls\": []\n    }\n]\n",
            "template": "[\n    {\n        \"name\": \"airflow-flower\",\n        \"image\": \"docker.io/apache/airflow:2.5.1@sha256:eef7c1cfcdd60a8dff245f2388aca35c4eaaa3077342357be3b1a6e46d62aa84\",\n        \"cpu\": 0,\n        \"links\": [],\n        \"portMappings\": [\n            {\n                \"containerPort\": 5555,\n                \"hostPort\": 5555,\n                \"protocol\": \"tcp\"\n            }\n        ],\n        \"essential\": true,\n        \"entryPoint\": [],\n        \"command\": [\n            \"celery\",\n            \"flower\"\n        ],\n        \"environment\": [\n            {\n                \"name\": \"AIRFLOW__CORE__SQL_ALCHEMY_CONN\",\n                \"value\": \"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__LOAD_EXAMPLES\",\n                \"value\": \"False\"\n            },\n            {\n                \"name\": \"AIRFLOW__CELERY__BROKER_URL\",\n                \"value\": \"redis://:@redis.airflow.local:6379/0\"\n            },\n            {\n                \"name\": \"AIRFLOW__CELERY__RESULT_BACKEND\",\n                \"value\": \"db+postgresql://airflow:airflow@postgres.airflow.local/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__EXECUTOR\",\n                \"value\": \"CeleryExecutor\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION\",\n                \"value\": \"true\"\n            },\n            {\n                \"name\": \"AIRFLOW__API__AUTH_BACKENDS\",\n                \"value\": \"airflow.api.auth.backend.basic_auth,airflow.api.auth.backend.session\"\n            },\n            {\n                \"name\": \"AIRFLOW__DATABASE__SQL_ALCHEMY_CONN\",\n                \"value\": \"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"\n            }\n        ],\n        \"environmentFiles\": [],\n        \"mountPoints\": [],\n        \"volumesFrom\": [],\n        \"linuxParameters\": {\n            \"devices\": [],\n            \"tmpfs\": []\n        },\n        \"secrets\": [],\n        \"dependsOn\": [],\n        \"user\": \"50000:0\",\n        \"dnsServers\": [],\n        \"dnsSearchDomains\": [],\n        \"extraHosts\": [],\n        \"dockerSecurityOptions\": [],\n        \"dockerLabels\": {},\n        \"ulimits\": [],\n        \"logConfiguration\": ${log_configuration},\n        \"systemControls\": []\n    }\n]\n",
            "vars": {
              "log_configuration": "{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]}"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "postgres_container_definitions",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "00b4b2b510c3edeafbb1bf85b58f6af7d5d2d742a9764d1e825a275c34cd6e93",
            "rendered": "[\n    {\n        \"name\": \"postgres\",\n        \"image\": \"docker.io/library/postgres:13@sha256:ecf9c1734b958041a3ce8c347e45f3e782c46be2ea30af68187877be1c063092\",\n        \"cpu\": 0,\n        \"links\": [],\n        \"portMappings\": [],\n        \"essential\": true,\n        \"entryPoint\": [],\n        \"command\": [],\n        \"environment\": [\n            {\n                \"name\": \"POSTGRES_USER\",\n                \"value\": \"airflow\"\n            },\n            {\n                \"name\": \"POSTGRES_PASSWORD\",\n                \"value\": \"airflow\"\n            },\n            {\n                \"name\": \"POSTGRES_DB\",\n                \"value\": \"airflow\"\n            }\n        ],\n        \"environmentFiles\": [],\n        \"mountPoints\": [\n            {\n                \"sourceVolume\": \"postgres-db-volume\",\n                \"containerPath\": \"/var/lib/postgresql/data\"\n            }\n        ],\n        \"volumesFrom\": [],\n        \"linuxParameters\": {\n            \"devices\": [],\n            \"tmpfs\": []\n        },\n        \"secrets\": [],\n        \"dependsOn\": [],\n        \"dnsServers\": [],\n        \"dnsSearchDomains\": [],\n        \"extraHosts\": [],\n        \"dockerSecurityOptions\": [],\n        \"dockerLabels\": {},\n        \"ulimits\": [],\n        \"logConfiguration\": {\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]},\n        \"healthCheck\": {\n            \"command\": [\n                \"CMD\",\n                \"pg_isready\",\n                \"-U\",\n                \"airflow\"\n            ],\n            \"interval\": 5,\n            \"timeout\": 5,\n            \"retries\": 5\n        },\n        \"systemControls\": []\n    }\n]",
            "template": "[\n    {\n        \"name\": \"postgres\",\n        \"image\": \"docker.io/library/postgres:13@sha256:ecf9c1734b958041a3ce8c347e45f3e782c46be2ea30af68187877be1c063092\",\n        \"cpu\": 0,\n        \"links\": [],\n        \"portMappings\": [],\n        \"essential\": true,\n        \"entryPoint\": [],\n        \"command\": [],\n        \"environment\": [\n            {\n                \"name\": \"POSTGRES_USER\",\n                \"value\": \"airflow\"\n            },\n            {\n                \"name\": \"POSTGRES_PASSWORD\",\n                \"value\": \"airflow\"\n            },\n            {\n                \"name\": \"POSTGRES_DB\",\n                \"value\": \"airflow\"\n            }\n        ],\n        \"environmentFiles\": [],\n        \"mountPoints\": [\n            {\n                \"sourceVolume\": \"postgres-db-volume\",\n                \"containerPath\": \"/var/lib/postgresql/data\"\n            }\n        ],\n        \"volumesFrom\": [],\n        \"linuxParameters\": {\n            \"devices\": [],\n            \"tmpfs\": []\n        },\n        \"secrets\": [],\n        \"dependsOn\": [],\n        \"dnsServers\": [],\n        \"dnsSearchDomains\": [],\n        \"extraHosts\": [],\n        \"dockerSecurityOptions\": [],\n        \"dockerLabels\": {},\n        \"ulimits\": [],\n        \"logConfiguration\": ${log_configuration},\n        \"healthCheck\": {\n            \"command\": [\n                \"CMD\",\n                \"pg_isready\",\n                \"-U\",\n                \"airflow\"\n            ],\n            \"interval\": 5,\n            \"timeout\": 5,\n            \"retries\": 5\n        },\n        \"systemControls\": []\n    }\n]",
            "vars": {
              "log_configuration": "{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]}"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "redis_container_definitions",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "fd3d227f39a6e8fe4b745d6c02f5e4beea686e9decb8f849ff60f53cf070fbfd",
            "rendered": "[{\n    \"name\": \"redis\",\n    \"image\": \"docker.io/library/redis:latest@sha256:579dd1c5fc096aeac8d20bac605c95e9cbea11327243dec4da93e507af90c5a2\",\n    \"cpu\": 0,\n    \"links\": [],\n    \"portMappings\": [],\n    \"essential\": true,\n    \"entryPoint\": [],\n    \"command\": [],\n    \"environment\": [],\n    \"environmentFiles\": [],\n    \"mountPoints\": [],\n    \"volumesFrom\": [],\n    \"linuxParameters\": {\n        \"devices\": [],\n        \"tmpfs\": []\n    },\n    \"secrets\": [],\n    \"dependsOn\": [],\n    \"dnsServers\": [],\n    \"dnsSearchDomains\": [],\n    \"extraHosts\": [],\n    \"dockerSecurityOptions\": [],\n    \"dockerLabels\": {},\n    \"ulimits\": [],\n    \"logConfiguration\": {\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]},\n    \"healthCheck\": {\n        \"command\": [\n            \"CMD\",\n            \"redis-cli\",\n            \"ping\"\n        ],\n        \"interval\": 5,\n        \"timeout\": 30,\n        \"retries\": 10\n    },\n    \"systemControls\": []\n}]",
            "template": "[{\n    \"name\": \"redis\",\n    \"image\": \"docker.io/library/redis:latest@sha256:579dd1c5fc096aeac8d20bac605c95e9cbea11327243dec4da93e507af90c5a2\",\n    \"cpu\": 0,\n    \"links\": [],\n    \"portMappings\": [],\n    \"essential\": true,\n    \"entryPoint\": [],\n    \"command\": [],\n    \"environment\": [],\n    \"environmentFiles\": [],\n    \"mountPoints\": [],\n    \"volumesFrom\": [],\n    \"linuxParameters\": {\n        \"devices\": [],\n        \"tmpfs\": []\n    },\n    \"secrets\": [],\n    \"dependsOn\": [],\n    \"dnsServers\": [],\n    \"dnsSearchDomains\": [],\n    \"extraHosts\": [],\n    \"dockerSecurityOptions\": [],\n    \"dockerLabels\": {},\n    \"ulimits\": [],\n    \"logConfiguration\": ${log_configuration},\n    \"healthCheck\": {\n        \"command\": [\n            \"CMD\",\n            \"redis-cli\",\n            \"ping\"\n        ],\n        \"interval\": 5,\n        \"timeout\": 30,\n        \"retries\": 10\n    },\n    \"systemControls\": []\n}]",
            "vars": {
              "log_configuration": "{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]}"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "scheduler_container_definitions",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "ef326cd937e1afa438315a1615e9380d492b1ec10007920820d1fd01a7e782de",
            "rendered": "[\n    {\n        \"name\": \"airflow-scheduler\",\n        \"image\": \"docker.io/apache/airflow:2.5.1@sha256:eef7c1cfcdd60a8dff245f2388aca35c4eaaa3077342357be3b1a6e46d62aa84\",\n        \"cpu\": 0,\n        \"links\": [],\n        \"portMappings\": [],\n        \"essential\": true,\n        \"entryPoint\": [\n            \"/bin/bash\"\n        ],\n        \"command\": [\n            \"-c\",\n            \"function ver() {\\n  printf \\\"%04d%04d%04d%04d\\\" ${1//./ }\\n}\\none_meg=1048576\\nmem_available=$(($(getconf _PHYS_PAGES) * $(getconf PAGE_SIZE) / one_meg))\\ncpus_available=$(grep -cE 'cpu[0-9]+' /proc/stat)\\ndisk_available=$(df / | tail -1 | awk '{print $4}')\\nwarning_resources=\\\"false\\\"\\nif (( mem_available \u003c 4000 )) ; then\\n  echo\\n  echo -e \\\"\\\\033[1;33mWARNING!!!: Not enough memory available for Docker.\\\\e[0m\\\"\\n  echo \\\"At least 4GB of memory required. You have $(numfmt --to iec $((mem_available * one_meg)))\\\"\\n  echo\\n  warning_resources=\\\"true\\\"\\nfi\\nif (( cpus_available \u003c 2 )); then\\n  echo\\n  echo -e \\\"\\\\033[1;33mWARNING!!!: Not enough CPUS available for Docker.\\\\e[0m\\\"\\n  echo \\\"At least 2 CPUs recommended. You have ${cpus_available}\\\"\\n  echo\\n  warning_resources=\\\"true\\\"\\nfi\\nif (( disk_available \u003c one_meg * 10 )); then\\n  echo\\n  echo -e \\\"\\\\033[1;33mWARNING!!!: Not enough Disk space available for Docker.\\\\e[0m\\\"\\n  echo \\\"At least 10 GBs recommended. You have $(numfmt --to iec $((disk_available * 1024 )))\\\"\\n  echo\\n  warning_resources=\\\"true\\\"\\nfi\\nif [[ ${warning_resources} == \\\"true\\\" ]]; then\\n  echo\\n  echo -e \\\"\\\\033[1;33mWARNING!!!: You have not enough resources to run Airflow (see above)!\\\\e[0m\\\"\\n  echo \\\"Please follow the instructions to increase amount of resources available:\\\"\\n  echo \\\"   https://airflow.apache.org/docs/apache-airflow/stable/howto/docker-compose/index.html#before-you-begin\\\"\\n  echo\\nfi\\nmkdir -p /opt/airflow/dags\\nchown -R \\\"50000:0\\\" /opt/airflow/dags\\nexec /entrypoint airflow scheduler\"\n        ],\n        \"environment\": [\n            {\n                \"name\": \"AIRFLOW__CORE__SQL_ALCHEMY_CONN\",\n                \"value\": \"postgresql+psycopg2://airflow:airflow@postgre.airflow.local/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__LOAD_EXAMPLES\",\n                \"value\": \"False\"\n            },\n            {\n                \"name\": \"AIRFLOW__CELERY__BROKER_URL\",\n                \"value\": \"redis://:@redis.airflow.local:6379/0\"\n            },\n            {\n                \"name\": \"AIRFLOW__CELERY__RESULT_BACKEND\",\n                \"value\": \"db+postgresql://airflow:airflow@postgres.airflow.local/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__EXECUTOR\",\n                \"value\": \"CeleryExecutor\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION\",\n                \"value\": \"true\"\n            },\n            {\n                \"name\": \"AIRFLOW__API__AUTH_BACKENDS\",\n                \"value\": \"airflow.api.auth.backend.basic_auth,airflow.api.auth.backend.session\"\n            },\n            {\n                \"name\": \"AIRFLOW__DATABASE__SQL_ALCHEMY_CONN\",\n                \"value\": \"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW_UID\",\n                \"value\": \"0\"\n            },\n            {\n                \"name\": \"_AIRFLOW_WWW_USER_CREATE\",\n                \"value\": \"true\"\n            },\n            {\n                \"name\": \"_AIRFLOW_WWW_USER_USERNAME\",\n                \"value\": \"airflow\"\n            },\n            {\n                \"name\": \"_AIRFLOW_DB_UPGRADE\",\n                \"value\": \"true\"\n            }\n        ],\n        \"environmentFiles\": [],\n        \"mountPoints\": [\n            {\n                \"sourceVolume\": \"airflow\",\n                \"containerPath\": \"/opt/airflow/dags\"\n            }\n        ],\n        \"volumesFrom\": [],\n        \"linuxParameters\": {\n            \"devices\": [],\n            \"tmpfs\": []\n        },\n        \"secrets\": [{\"name\":\"_AIRFLOW_WWW_USER_PASSWORD\",\"valueFrom\":\"arn:aws:secretsmanager:ap-south-1:148761660875:secret:airflow-ui-admin-password-AOu3f6\"}],\n        \"dependsOn\": [],\n        \"user\": \"50000:0\",\n        \"dnsServers\": [],\n        \"dnsSearchDomains\": [],\n        \"extraHosts\": [],\n        \"dockerSecurityOptions\": [],\n        \"dockerLabels\": {},\n        \"ulimits\": [],\n        \"logConfiguration\": {\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]},\n        \"systemControls\": []\n    }\n]\n",
            "template": "[\n    {\n        \"name\": \"airflow-scheduler\",\n        \"image\": \"docker.io/apache/airflow:2.5.1@sha256:eef7c1cfcdd60a8dff245f2388aca35c4eaaa3077342357be3b1a6e46d62aa84\",\n        \"cpu\": 0,\n        \"links\": [],\n        \"portMappings\": [],\n        \"essential\": true,\n        \"entryPoint\": [\n            \"/bin/bash\"\n        ],\n        \"command\": [\n            \"-c\",\n            \"function ver() {\\n  printf \\\"%04d%04d%04d%04d\\\" $${1//./ }\\n}\\none_meg=1048576\\nmem_available=$(($(getconf _PHYS_PAGES) * $(getconf PAGE_SIZE) / one_meg))\\ncpus_available=$(grep -cE 'cpu[0-9]+' /proc/stat)\\ndisk_available=$(df / | tail -1 | awk '{print $4}')\\nwarning_resources=\\\"false\\\"\\nif (( mem_available \u003c 4000 )) ; then\\n  echo\\n  echo -e \\\"\\\\033[1;33mWARNING!!!: Not enough memory available for Docker.\\\\e[0m\\\"\\n  echo \\\"At least 4GB of memory required. You have $(numfmt --to iec $((mem_available * one_meg)))\\\"\\n  echo\\n  warning_resources=\\\"true\\\"\\nfi\\nif (( cpus_available \u003c 2 )); then\\n  echo\\n  echo -e \\\"\\\\033[1;33mWARNING!!!: Not enough CPUS available for Docker.\\\\e[0m\\\"\\n  echo \\\"At least 2 CPUs recommended. You have $${cpus_available}\\\"\\n  echo\\n  warning_resources=\\\"true\\\"\\nfi\\nif (( disk_available \u003c one_meg * 10 )); then\\n  echo\\n  echo -e \\\"\\\\033[1;33mWARNING!!!: Not enough Disk space available for Docker.\\\\e[0m\\\"\\n  echo \\\"At least 10 GBs recommended. You have $(numfmt --to iec $((disk_available * 1024 )))\\\"\\n  echo\\n  warning_resources=\\\"true\\\"\\nfi\\nif [[ $${warning_resources} == \\\"true\\\" ]]; then\\n  echo\\n  echo -e \\\"\\\\033[1;33mWARNING!!!: You have not enough resources to run Airflow (see above)!\\\\e[0m\\\"\\n  echo \\\"Please follow the instructions to increase amount of resources available:\\\"\\n  echo \\\"   https://airflow.apache.org/docs/apache-airflow/stable/howto/docker-compose/index.html#before-you-begin\\\"\\n  echo\\nfi\\nmkdir -p /opt/airflow/dags\\nchown -R \\\"50000:0\\\" /opt/airflow/dags\\nexec /entrypoint airflow scheduler\"\n        ],\n        \"environment\": [\n            {\n                \"name\": \"AIRFLOW__CORE__SQL_ALCHEMY_CONN\",\n                \"value\": \"postgresql+psycopg2://airflow:airflow@postgre.airflow.local/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__LOAD_EXAMPLES\",\n                \"value\": \"False\"\n            },\n            {\n                \"name\": \"AIRFLOW__CELERY__BROKER_URL\",\n                \"value\": \"redis://:@redis.airflow.local:6379/0\"\n            },\n            {\n                \"name\": \"AIRFLOW__CELERY__RESULT_BACKEND\",\n                \"value\": \"db+postgresql://airflow:airflow@postgres.airflow.local/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__EXECUTOR\",\n                \"value\": \"CeleryExecutor\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION\",\n                \"value\": \"true\"\n            },\n            {\n                \"name\": \"AIRFLOW__API__AUTH_BACKENDS\",\n                \"value\": \"airflow.api.auth.backend.basic_auth,airflow.api.auth.backend.session\"\n            },\n            {\n                \"name\": \"AIRFLOW__DATABASE__SQL_ALCHEMY_CONN\",\n                \"value\": \"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW_UID\",\n                \"value\": \"0\"\n            },\n            {\n                \"name\": \"_AIRFLOW_WWW_USER_CREATE\",\n                \"value\": \"true\"\n            },\n            {\n                \"name\": \"_AIRFLOW_WWW_USER_USERNAME\",\n                \"value\": \"airflow\"\n            },\n            {\n                \"name\": \"_AIRFLOW_DB_UPGRADE\",\n                \"value\": \"true\"\n            }\n        ],\n        \"environmentFiles\": [],\n        \"mountPoints\": [\n            {\n                \"sourceVolume\": \"airflow\",\n                \"containerPath\": \"/opt/airflow/dags\"\n            }\n        ],\n        \"volumesFrom\": [],\n        \"linuxParameters\": {\n            \"devices\": [],\n            \"tmpfs\": []\n        },\n        \"secrets\": ${secrets},\n        \"dependsOn\": [],\n        \"user\": \"50000:0\",\n        \"dnsServers\": [],\n        \"dnsSearchDomains\": [],\n        \"extraHosts\": [],\n        \"dockerSecurityOptions\": [],\n        \"dockerLabels\": {},\n        \"ulimits\": [],\n        \"logConfiguration\": ${log_configuration},\n        \"systemControls\": []\n    }\n]\n",
            "vars": {
              "log_configuration": "{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]}",
              "secrets": "[{\"name\":\"_AIRFLOW_WWW_USER_PASSWORD\",\"valueFrom\":\"arn:aws:secretsmanager:ap-south-1:148761660875:secret:airflow-ui-admin-password-AOu3f6\"}]"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "webserver_container_definitions",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "ddfbe1478c825d1893ab829fadaefff6ce19e916180074c10d38e0bd92ced6d2",
            "rendered": "[\n    {\n        \"name\": \"airflow-webserver\",\n        \"image\": \"docker.io/apache/airflow:2.5.1@sha256:eef7c1cfcdd60a8dff245f2388aca35c4eaaa3077342357be3b1a6e46d62aa84\",\n        \"cpu\": 0,\n        \"links\": [],\n        \"portMappings\": [\n            {\n                \"containerPort\": 8080,\n                \"hostPort\": 8080,\n                \"protocol\": \"tcp\"\n            }\n        ],\n        \"essential\": true,\n        \"entryPoint\": [],\n        \"command\": [\n            \"webserver\"\n        ],\n        \"environment\": [\n            {\n                \"name\": \"AIRFLOW__CORE__SQL_ALCHEMY_CONN\",\n                \"value\": \"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__LOAD_EXAMPLES\",\n                \"value\": \"False\"\n            },\n            {\n                \"name\": \"AIRFLOW__CELERY__BROKER_URL\",\n                \"value\": \"redis://:@redis.airflow.local:6379/0\"\n            },\n            {\n                \"name\": \"AIRFLOW__CELERY__RESULT_BACKEND\",\n                \"value\": \"db+postgresql://airflow:airflow@postgres.airflow.local/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__EXECUTOR\",\n                \"value\": \"CeleryExecutor\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION\",\n                \"value\": \"true\"\n            },\n            {\n                \"name\": \"AIRFLOW__API__AUTH_BACKENDS\",\n                \"value\": \"airflow.api.auth.backend.basic_auth,airflow.api.auth.backend.session\"\n            },\n            {\n                \"name\": \"AIRFLOW__DATABASE__SQL_ALCHEMY_CONN\",\n                \"value\": \"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"\n            }\n        ],\n        \"environmentFiles\": [],\n        \"mountPoints\": [\n            {\n                \"sourceVolume\": \"airflow\",\n                \"containerPath\": \"/opt/airflow/dags\"\n            }\n        ],\n        \"volumesFrom\": [],\n        \"linuxParameters\": {\n            \"devices\": [],\n            \"tmpfs\": []\n        },\n        \"secrets\": [],\n        \"dependsOn\": [],\n        \"user\": \"50000:0\",\n        \"dnsServers\": [],\n        \"dnsSearchDomains\": [],\n        \"extraHosts\": [],\n        \"dockerSecurityOptions\": [],\n        \"dockerLabels\": {},\n        \"ulimits\": [],\n        \"logConfiguration\": {\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]},\n        \"systemControls\": []\n    }\n]\n",
            "template": "[\n    {\n        \"name\": \"airflow-webserver\",\n        \"image\": \"docker.io/apache/airflow:2.5.1@sha256:eef7c1cfcdd60a8dff245f2388aca35c4eaaa3077342357be3b1a6e46d62aa84\",\n        \"cpu\": 0,\n        \"links\": [],\n        \"portMappings\": [\n            {\n                \"containerPort\": 8080,\n                \"hostPort\": 8080,\n                \"protocol\": \"tcp\"\n            }\n        ],\n        \"essential\": true,\n        \"entryPoint\": [],\n        \"command\": [\n            \"webserver\"\n        ],\n        \"environment\": [\n            {\n                \"name\": \"AIRFLOW__CORE__SQL_ALCHEMY_CONN\",\n                \"value\": \"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__LOAD_EXAMPLES\",\n                \"value\": \"False\"\n            },\n            {\n                \"name\": \"AIRFLOW__CELERY__BROKER_URL\",\n                \"value\": \"redis://:@redis.airflow.local:6379/0\"\n            },\n            {\n                \"name\": \"AIRFLOW__CELERY__RESULT_BACKEND\",\n                \"value\": \"db+postgresql://airflow:airflow@postgres.airflow.local/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__EXECUTOR\",\n                \"value\": \"CeleryExecutor\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION\",\n                \"value\": \"true\"\n            },\n            {\n                \"name\": \"AIRFLOW__API__AUTH_BACKENDS\",\n                \"value\": \"airflow.api.auth.backend.basic_auth,airflow.api.auth.backend.session\"\n            },\n            {\n                \"name\": \"AIRFLOW__DATABASE__SQL_ALCHEMY_CONN\",\n                \"value\": \"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"\n            }\n        ],\n        \"environmentFiles\": [],\n        \"mountPoints\": [\n            {\n                \"sourceVolume\": \"airflow\",\n                \"containerPath\": \"/opt/airflow/dags\"\n            }\n        ],\n        \"volumesFrom\": [],\n        \"linuxParameters\": {\n            \"devices\": [],\n            \"tmpfs\": []\n        },\n        \"secrets\": [],\n        \"dependsOn\": [],\n        \"user\": \"50000:0\",\n        \"dnsServers\": [],\n        \"dnsSearchDomains\": [],\n        \"extraHosts\": [],\n        \"dockerSecurityOptions\": [],\n        \"dockerLabels\": {},\n        \"ulimits\": [],\n        \"logConfiguration\": ${log_configuration},\n        \"systemControls\": []\n    }\n]\n",
            "vars": {
              "log_configuration": "{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]}"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "worker_container_definitions",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "e36f7099ce39cbaddae0272c044b401725f71cbff04e064258eac589f399ccb7",
            "rendered": "[\n    {\n        \"name\": \"airflow-worker\",\n        \"image\": \"docker.io/apache/airflow:2.5.1@sha256:eef7c1cfcdd60a8dff245f2388aca35c4eaaa3077342357be3b1a6e46d62aa84\",\n        \"cpu\": 0,\n        \"links\": [],\n        \"portMappings\": [],\n        \"essential\": true,\n        \"entryPoint\": [],\n        \"command\": [\n            \"celery\",\n            \"worker\"\n        ],\n        \"environment\": [\n            {\n                \"name\": \"AIRFLOW__CORE__SQL_ALCHEMY_CONN\",\n                \"value\": \"postgresql+psycopg2://airflow:airflow@postgres/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__LOAD_EXAMPLES\",\n                \"value\": \"true\"\n            },\n            {\n                \"name\": \"DUMB_INIT_SETSID\",\n                \"value\": \"0\"\n            },\n            {\n                \"name\": \"AIRFLOW__CELERY__BROKER_URL\",\n                \"value\": \"redis://:@redis.airflow.local:6379/0\"\n            },\n            {\n                \"name\": \"AIRFLOW__CELERY__RESULT_BACKEND\",\n                \"value\": \"db+postgresql://airflow:airflow@postgres.airflow.local/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__EXECUTOR\",\n                \"value\": \"CeleryExecutor\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION\",\n                \"value\": \"true\"\n            },\n            {\n                \"name\": \"AIRFLOW__API__AUTH_BACKENDS\",\n                \"value\": \"airflow.api.auth.backend.basic_auth,airflow.api.auth.backend.session\"\n            },\n            {\n                \"name\": \"AIRFLOW__DATABASE__SQL_ALCHEMY_CONN\",\n                \"value\": \"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"\n            }\n        ],\n        \"environmentFiles\": [],\n        \"mountPoints\": [\n            {\n                \"sourceVolume\": \"airflow\",\n                \"containerPath\": \"/opt/airflow/dags\"\n            }\n        ],\n        \"volumesFrom\": [],\n        \"linuxParameters\": {\n            \"devices\": [],\n            \"tmpfs\": []\n        },\n        \"secrets\": [],\n        \"dependsOn\": [],\n        \"user\": \"50000:0\",\n        \"dnsServers\": [],\n        \"dnsSearchDomains\": [],\n        \"extraHosts\": [],\n        \"dockerSecurityOptions\": [],\n        \"dockerLabels\": {},\n        \"ulimits\": [],\n        \"logConfiguration\": {\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]},\n        \"systemControls\": []\n    }\n]\n",
            "template": "[\n    {\n        \"name\": \"airflow-worker\",\n        \"image\": \"docker.io/apache/airflow:2.5.1@sha256:eef7c1cfcdd60a8dff245f2388aca35c4eaaa3077342357be3b1a6e46d62aa84\",\n        \"cpu\": 0,\n        \"links\": [],\n        \"portMappings\": [],\n        \"essential\": true,\n        \"entryPoint\": [],\n        \"command\": [\n            \"celery\",\n            \"worker\"\n        ],\n        \"environment\": [\n            {\n                \"name\": \"AIRFLOW__CORE__SQL_ALCHEMY_CONN\",\n                \"value\": \"postgresql+psycopg2://airflow:airflow@postgres/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__LOAD_EXAMPLES\",\n                \"value\": \"true\"\n            },\n            {\n                \"name\": \"DUMB_INIT_SETSID\",\n                \"value\": \"0\"\n            },\n            {\n                \"name\": \"AIRFLOW__CELERY__BROKER_URL\",\n                \"value\": \"redis://:@redis.airflow.local:6379/0\"\n            },\n            {\n                \"name\": \"AIRFLOW__CELERY__RESULT_BACKEND\",\n                \"value\": \"db+postgresql://airflow:airflow@postgres.airflow.local/airflow\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__EXECUTOR\",\n                \"value\": \"CeleryExecutor\"\n            },\n            {\n                \"name\": \"AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION\",\n                \"value\": \"true\"\n            },\n            {\n                \"name\": \"AIRFLOW__API__AUTH_BACKENDS\",\n                \"value\": \"airflow.api.auth.backend.basic_auth,airflow.api.auth.backend.session\"\n            },\n            {\n                \"name\": \"AIRFLOW__DATABASE__SQL_ALCHEMY_CONN\",\n                \"value\": \"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"\n            }\n        ],\n        \"environmentFiles\": [],\n        \"mountPoints\": [\n            {\n                \"sourceVolume\": \"airflow\",\n                \"containerPath\": \"/opt/airflow/dags\"\n            }\n        ],\n        \"volumesFrom\": [],\n        \"linuxParameters\": {\n            \"devices\": [],\n            \"tmpfs\": []\n        },\n        \"secrets\": [],\n        \"dependsOn\": [],\n        \"user\": \"50000:0\",\n        \"dnsServers\": [],\n        \"dnsSearchDomains\": [],\n        \"extraHosts\": [],\n        \"dockerSecurityOptions\": [],\n        \"dockerLabels\": {},\n        \"ulimits\": [],\n        \"logConfiguration\": ${log_configuration},\n        \"systemControls\": []\n    }\n]\n",
            "vars": {
              "log_configuration": "{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]}"
            }
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_autoscaling_group",
      "name": "core",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:autoscaling:ap-south-1:148761660875:autoScalingGroup:6af0559b-8208-4a22-bee1-b525eb90ee7e:autoScalingGroupName/core",
            "availability_zones": [
              "ap-south-1b",
              "ap-south-1c"
            ],
            "capacity_rebalance": false,
            "context": "",
            "default_cooldown": 300,
            "default_instance_warmup": 0,
            "desired_capacity": 1,
            "desired_capacity_type": "",
            "enabled_metrics": null,
            "force_delete": false,
            "force_delete_warm_pool": false,
            "health_check_grace_period": 300,
            "health_check_type": "EC2",
            "id": "core",
            "initial_lifecycle_hook": [],
            "instance_refresh": [],
            "launch_configuration": "",
            "launch_template": [
              {
                "id": "lt-02ffc47b789bb43b7",
                "name": "core2024091720182385230000000e",
                "version": "$Latest"
              }
            ],
            "load_balancers": null,
            "max_instance_lifetime": 0,
            "max_size": 2,
            "metrics_granularity": "1Minute",
            "min_elb_capacity": null,
            "min_size": 1,
            "mixed_instances_policy": [],
            "name": "core",
            "name_prefix": "",
            "placement_group": "",
            "predicted_capacity": 0,
            "protect_from_scale_in": false,
            "service_linked_role_arn": "arn:aws:iam::148761660875:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling",
            "suspended_processes": null,
            "tag": [
              {
                "key": "tier",
                "propagate_at_launch": true,
                "value": "core"
              }
            ],
            "tags": null,
            "target_group_arns": null,
            "termination_policies": null,
            "timeouts": null,
            "vpc_zone_identifier": [
              "subnet-012bd7a5bb6aa5801",
              "subnet-03df71b634d6d927a"
            ],
            "wait_for_capacity_timeout": "10m",
            "wait_for_elb_capacity": null,
            "warm_pool": [],
            "warm_pool_size": 0
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjo2MDAwMDAwMDAwMDAsInVwZGF0ZSI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_iam_instance_profile.ecs_instance_profile",
            "aws_iam_role.ecs_instance_role",
            "aws_launch_template.core",
            "aws_s3_bucket.airflow",
            "aws_security_group.default",
            "data.aws_iam_policy_document.s3_access"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_autoscaling_group",
      "name": "worker",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:autoscaling:ap-south-1:148761660875:autoScalingGroup:38754a2d-4562-4672-8982-2d0ae7c70e17:autoScalingGroupName/worker",
            "availability_zones": [
              "ap-south-1b",
              "ap-south-1c"
            ],
            "capacity_rebalance": false,
            "context": "",
            "default_cooldown": 300,
            "default_instance_warmup": 0,
            "desired_capacity": 1,
            "desired_capacity_type": "",
            "enabled_metrics": null,
            "force_delete": false,
            "force_delete_warm_pool": false,
            "health_check_grace_period": 300,
            "health_check_type": "EC2",
            "id": "worker",
            "initial_lifecycle_hook": [],
            "instance_refresh": [],
            "launch_configuration": "",
            "launch_template": [
              {
                "id": "lt-0867064289500ae32",
                "name": "worker20240917201823874800000010",
                "version": "$Latest"
              }
            ],
            "load_balancers": null,
            "max_instance_lifetime": 0,
            "max_size": 1,
            "metrics_granularity": "1Minute",
            "min_elb_capacity": null,
            "min_size": 1,
            "mixed_instances_policy": [],
            "name": "worker",
            "name_prefix": "",
            "placement_group": "",
            "predicted_capacity": 0,
            "protect_from_scale_in": false,
            "service_linked_role_arn": "arn:aws:iam::148761660875:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling",
            "suspended_processes": null,
            "tag": [
              {
                "key": "tier",
                "propagate_at_launch": true,
                "value": "worker"
              }
            ],
            "tags": null,
            "target_group_arns": null,
            "termination_policies": null,
            "timeouts": null,
            "vpc_zone_identifier": [
              "subnet-012bd7a5bb6aa5801",
              "subnet-03df71b634d6d927a"
            ],
            "wait_for_capacity_timeout": "10m",
            "wait_for_elb_capacity": null,
            "warm_pool": [],
            "warm_pool_size": 0
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjo2MDAwMDAwMDAwMDAsInVwZGF0ZSI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_iam_instance_profile.ecs_instance_profile",
            "aws_iam_role.ecs_instance_role",
            "aws_launch_template.worker",
            "aws_s3_bucket.airflow",
            "aws_security_group.default",
            "data.aws_iam_policy_document.s3_access"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "airflow",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:ap-south-1:148761660875:log-group:airflow",
            "id": "airflow",
            "kms_key_id": "",
            "name": "airflow",
            "name_prefix": "",
            "retention_in_days": 0,
            "skip_destroy": false,
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_cluster",
      "name": "airflow",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecs:ap-south-1:148761660875:cluster/airflow-tf",
            "capacity_providers": [],
            "configuration": [],
            "default_capacity_provider_strategy": [],
            "id": "arn:aws:ecs:ap-south-1:148761660875:cluster/airflow-tf",
            "name": "airflow-tf",
            "service_connect_defaults": [],
            "setting": [
              {
                "name": "containerInsights",
                "value": "disabled"
              }
            ],
            "tags": {
              "Name": "airflow-tf"
            },
            "tags_all": {
              "Name": "airflow-tf"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "flower",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alarms": [],
            "capacity_provider_strategy": [],
            "cluster": "arn:aws:ecs:ap-south-1:148761660875:cluster/airflow-tf",
            "deployment_circuit_breaker": [
              {
                "enable": false,
                "rollback": false
              }
            ],
            "deployment_controller": [
              {
                "type": "ECS"
              }
            ],
            "deployment_maximum_percent": 200,
            "deployment_minimum_healthy_percent": 100,
            "desired_count": 1,
            "enable_ecs_managed_tags": false,
            "enable_execute_command": false,
            "force_new_deployment": null,
            "health_check_grace_period_seconds": 0,
            "iam_role": "/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS",
            "id": "arn:aws:ecs:ap-south-1:148761660875:service/airflow-tf/flower",
            "launch_type": "EC2",
            "load_balancer": [
              {
                "container_name": "airflow-flower",
                "container_port": 5555,
                "elb_name": "",
                "target_group_arn": "arn:aws:elasticloadbalancing:ap-south-1:148761660875:targetgroup/flower/464fac84c9e782b4"
              }
            ],
            "name": "flower",
            "network_configuration": [
              {
                "assign_public_ip": false,
                "security_groups": [
                  "sg-059cbc229e85fa25a"
                ],
                "subnets": [
                  "subnet-012bd7a5bb6aa5801",
                  "subnet-03df71b634d6d927a"
                ]
              }
            ],
            "ordered_placement_strategy": [],
            "placement_constraints": [
              {
                "expression": "attribute:tier in ['worker']",
                "type": "memberOf"
              }
            ],
            "platform_version": "",
            "propagate_tags": "SERVICE",
            "scheduling_strategy": "REPLICA",
            "service_connect_configuration": [],
            "service_registries": [
              {
                "container_name": "",
                "container_port": 0,
                "port": 0,
                "registry_arn": "arn:aws:servicediscovery:ap-south-1:148761660875:service/srv-zvvd5f6t6xkl5cno"
              }
            ],
            "tags": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "flower"
            },
            "tags_all": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "flower"
            },
            "task_definition": "arn:aws:ecs:ap-south-1:148761660875:task-definition/flower:3",
            "timeouts": null,
            "triggers": {},
            "wait_for_steady_state": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_ecs_cluster.airflow",
            "aws_ecs_service.postgres",
            "aws_ecs_service.scheduler",
            "aws_ecs_task_definition.flower",
            "aws_ecs_task_definition.postgres",
            "aws_ecs_task_definition.scheduler",
            "aws_efs_access_point.postgres",
            "aws_efs_file_system.postgres",
            "aws_efs_mount_target.postgres_mt",
            "aws_iam_role.flower-task-execution-role",
            "aws_iam_role.flower-task-role",
            "aws_iam_role.postgres-task-execution-role",
            "aws_iam_role.postgres-task-role",
            "aws_iam_role.scheduler-task-execution-role",
            "aws_iam_role.scheduler-task-role",
            "aws_lb_target_group.flower",
            "aws_secretsmanager_secret.airflow_ui_admin_password",
            "aws_security_group.default",
            "aws_service_discovery_private_dns_namespace.cloudmap",
            "aws_service_discovery_service.flower",
            "aws_service_discovery_service.postgres",
            "aws_service_discovery_service.scheduler",
            "data.aws_iam_policy_document.postgres_inline_policy",
            "data.aws_iam_policy_document.scheduler_inline_policy_secrets",
            "data.template_file.flower_container_definitions",
            "data.template_file.postgres_container_definitions",
            "data.template_file.scheduler_container_definitions"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "postgres",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alarms": [],
            "capacity_provider_strategy": [],
            "cluster": "arn:aws:ecs:ap-south-1:148761660875:cluster/airflow-tf",
            "deployment_circuit_breaker": [
              {
                "enable": false,
                "rollback": false
              }
            ],
            "deployment_controller": [
              {
                "type": "ECS"
              }
            ],
            "deployment_maximum_percent": 200,
            "deployment_minimum_healthy_percent": 100,
            "desired_count": 1,
            "enable_ecs_managed_tags": false,
            "enable_execute_command": false,
            "force_new_deployment": null,
            "health_check_grace_period_seconds": 0,
            "iam_role": "/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS",
            "id": "arn:aws:ecs:ap-south-1:148761660875:service/airflow-tf/postgres",
            "launch_type": "FARGATE",
            "load_balancer": [],
            "name": "postgres",
            "network_configuration": [
              {
                "assign_public_ip": true,
                "security_groups": [
                  "sg-059cbc229e85fa25a"
                ],
                "subnets": [
                  "subnet-012bd7a5bb6aa5801",
                  "subnet-03df71b634d6d927a"
                ]
              }
            ],
            "ordered_placement_strategy": [],
            "placement_constraints": [],
            "platform_version": "1.4.0",
            "propagate_tags": "SERVICE",
            "scheduling_strategy": "REPLICA",
            "service_connect_configuration": [],
            "service_registries": [
              {
                "container_name": "",
                "container_port": 0,
                "port": 0,
                "registry_arn": "arn:aws:servicediscovery:ap-south-1:148761660875:service/srv-s4ppkrcrlragm5xm"
              }
            ],
            "tags": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "postgres"
            },
            "tags_all": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "postgres"
            },
            "task_definition": "arn:aws:ecs:ap-south-1:148761660875:task-definition/postgres:3",
            "timeouts": null,
            "triggers": {},
            "wait_for_steady_state": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_ecs_cluster.airflow",
            "aws_ecs_task_definition.postgres",
            "aws_efs_access_point.postgres",
            "aws_efs_file_system.postgres",
            "aws_efs_mount_target.postgres_mt",
            "aws_iam_role.postgres-task-execution-role",
            "aws_iam_role.postgres-task-role",
            "aws_security_group.default",
            "aws_service_discovery_private_dns_namespace.cloudmap",
            "aws_service_discovery_service.postgres",
            "data.aws_iam_policy_document.postgres_inline_policy",
            "data.template_file.postgres_container_definitions"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "redis",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alarms": [],
            "capacity_provider_strategy": [],
            "cluster": "arn:aws:ecs:ap-south-1:148761660875:cluster/airflow-tf",
            "deployment_circuit_breaker": [
              {
                "enable": false,
                "rollback": false
              }
            ],
            "deployment_controller": [
              {
                "type": "ECS"
              }
            ],
            "deployment_maximum_percent": 200,
            "deployment_minimum_healthy_percent": 100,
            "desired_count": 1,
            "enable_ecs_managed_tags": false,
            "enable_execute_command": false,
            "force_new_deployment": null,
            "health_check_grace_period_seconds": 0,
            "iam_role": "/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS",
            "id": "arn:aws:ecs:ap-south-1:148761660875:service/airflow-tf/redis",
            "launch_type": "FARGATE",
            "load_balancer": [],
            "name": "redis",
            "network_configuration": [
              {
                "assign_public_ip": true,
                "security_groups": [
                  "sg-059cbc229e85fa25a"
                ],
                "subnets": [
                  "subnet-012bd7a5bb6aa5801",
                  "subnet-03df71b634d6d927a"
                ]
              }
            ],
            "ordered_placement_strategy": [],
            "placement_constraints": [],
            "platform_version": "1.4.0",
            "propagate_tags": "SERVICE",
            "scheduling_strategy": "REPLICA",
            "service_connect_configuration": [],
            "service_registries": [
              {
                "container_name": "",
                "container_port": 0,
                "port": 0,
                "registry_arn": "arn:aws:servicediscovery:ap-south-1:148761660875:service/srv-avkmbjc6mfvwe46t"
              }
            ],
            "tags": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "redis"
            },
            "tags_all": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "redis"
            },
            "task_definition": "arn:aws:ecs:ap-south-1:148761660875:task-definition/redis:3",
            "timeouts": null,
            "triggers": {},
            "wait_for_steady_state": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_ecs_cluster.airflow",
            "aws_ecs_task_definition.redis",
            "aws_iam_role.redis-task-execution-role",
            "aws_iam_role.redis-task-role",
            "aws_security_group.default",
            "aws_service_discovery_private_dns_namespace.cloudmap",
            "aws_service_discovery_service.redis",
            "data.template_file.redis_container_definitions"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "scheduler",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alarms": [],
            "capacity_provider_strategy": [],
            "cluster": "arn:aws:ecs:ap-south-1:148761660875:cluster/airflow-tf",
            "deployment_circuit_breaker": [
              {
                "enable": false,
                "rollback": false
              }
            ],
            "deployment_controller": [
              {
                "type": "ECS"
              }
            ],
            "deployment_maximum_percent": 200,
            "deployment_minimum_healthy_percent": 100,
            "desired_count": 1,
            "enable_ecs_managed_tags": false,
            "enable_execute_command": false,
            "force_new_deployment": null,
            "health_check_grace_period_seconds": 0,
            "iam_role": "/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS",
            "id": "arn:aws:ecs:ap-south-1:148761660875:service/airflow-tf/scheduler",
            "launch_type": "EC2",
            "load_balancer": [],
            "name": "scheduler",
            "network_configuration": [
              {
                "assign_public_ip": false,
                "security_groups": [
                  "sg-059cbc229e85fa25a"
                ],
                "subnets": [
                  "subnet-012bd7a5bb6aa5801",
                  "subnet-03df71b634d6d927a"
                ]
              }
            ],
            "ordered_placement_strategy": [],
            "placement_constraints": [
              {
                "expression": "attribute:tier in ['core']",
                "type": "memberOf"
              }
            ],
            "platform_version": "",
            "propagate_tags": "SERVICE",
            "scheduling_strategy": "REPLICA",
            "service_connect_configuration": [],
            "service_registries": [
              {
                "container_name": "",
                "container_port": 0,
                "port": 0,
                "registry_arn": "arn:aws:servicediscovery:ap-south-1:148761660875:service/srv-naqnfguqwoizm4kf"
              }
            ],
            "tags": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "scheduler"
            },
            "tags_all": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "scheduler"
            },
            "task_definition": "arn:aws:ecs:ap-south-1:148761660875:task-definition/scheduler:3",
            "timeouts": null,
            "triggers": {},
            "wait_for_steady_state": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_ecs_cluster.airflow",
            "aws_ecs_service.postgres",
            "aws_ecs_task_definition.postgres",
            "aws_ecs_task_definition.scheduler",
            "aws_efs_access_point.postgres",
            "aws_efs_file_system.postgres",
            "aws_efs_mount_target.postgres_mt",
            "aws_iam_role.postgres-task-execution-role",
            "aws_iam_role.postgres-task-role",
            "aws_iam_role.scheduler-task-execution-role",
            "aws_iam_role.scheduler-task-role",
            "aws_secretsmanager_secret.airflow_ui_admin_password",
            "aws_security_group.default",
            "aws_service_discovery_private_dns_namespace.cloudmap",
            "aws_service_discovery_service.postgres",
            "aws_service_discovery_service.scheduler",
            "data.aws_iam_policy_document.postgres_inline_policy",
            "data.aws_iam_policy_document.scheduler_inline_policy_secrets",
            "data.template_file.postgres_container_definitions",
            "data.template_file.scheduler_container_definitions"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "webserver",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alarms": [],
            "capacity_provider_strategy": [],
            "cluster": "arn:aws:ecs:ap-south-1:148761660875:cluster/airflow-tf",
            "deployment_circuit_breaker": [
              {
                "enable": false,
                "rollback": false
              }
            ],
            "deployment_controller": [
              {
                "type": "ECS"
              }
            ],
            "deployment_maximum_percent": 200,
            "deployment_minimum_healthy_percent": 100,
            "desired_count": 1,
            "enable_ecs_managed_tags": false,
            "enable_execute_command": false,
            "force_new_deployment": null,
            "health_check_grace_period_seconds": 0,
            "iam_role": "/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS",
            "id": "arn:aws:ecs:ap-south-1:148761660875:service/airflow-tf/webserver",
            "launch_type": "EC2",
            "load_balancer": [
              {
                "container_name": "airflow-webserver",
                "container_port": 8080,
                "elb_name": "",
                "target_group_arn": "arn:aws:elasticloadbalancing:ap-south-1:148761660875:targetgroup/webserver/b0f2d9194cd22cfb"
              }
            ],
            "name": "webserver",
            "network_configuration": [
              {
                "assign_public_ip": false,
                "security_groups": [
                  "sg-059cbc229e85fa25a"
                ],
                "subnets": [
                  "subnet-012bd7a5bb6aa5801",
                  "subnet-03df71b634d6d927a"
                ]
              }
            ],
            "ordered_placement_strategy": [],
            "placement_constraints": [
              {
                "expression": "attribute:tier in ['core']",
                "type": "memberOf"
              }
            ],
            "platform_version": "",
            "propagate_tags": "SERVICE",
            "scheduling_strategy": "REPLICA",
            "service_connect_configuration": [],
            "service_registries": [
              {
                "container_name": "",
                "container_port": 0,
                "port": 0,
                "registry_arn": "arn:aws:servicediscovery:ap-south-1:148761660875:service/srv-nvnzaypdfew6legu"
              }
            ],
            "tags": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "webserver"
            },
            "tags_all": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "webserver"
            },
            "task_definition": "arn:aws:ecs:ap-south-1:148761660875:task-definition/webserver:3",
            "timeouts": null,
            "triggers": {},
            "wait_for_steady_state": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_ecs_cluster.airflow",
            "aws_ecs_service.postgres",
            "aws_ecs_service.scheduler",
            "aws_ecs_task_definition.postgres",
            "aws_ecs_task_definition.scheduler",
            "aws_ecs_task_definition.webserver",
            "aws_efs_access_point.postgres",
            "aws_efs_file_system.postgres",
            "aws_efs_mount_target.postgres_mt",
            "aws_iam_role.postgres-task-execution-role",
            "aws_iam_role.postgres-task-role",
            "aws_iam_role.scheduler-task-execution-role",
            "aws_iam_role.scheduler-task-role",
            "aws_iam_role.webserver-task-execution-role",
            "aws_iam_role.webserver-task-role",
            "aws_lb_target_group.webserver",
            "aws_secretsmanager_secret.airflow_ui_admin_password",
            "aws_security_group.default",
            "aws_service_discovery_private_dns_namespace.cloudmap",
            "aws_service_discovery_service.postgres",
            "aws_service_discovery_service.scheduler",
            "aws_service_discovery_service.webserver",
            "data.aws_iam_policy_document.postgres_inline_policy",
            "data.aws_iam_policy_document.scheduler_inline_policy_secrets",
            "data.template_file.postgres_container_definitions",
            "data.template_file.scheduler_container_definitions",
            "data.template_file.webserver_container_definitions"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "worker",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alarms": [],
            "capacity_provider_strategy": [],
            "cluster": "arn:aws:ecs:ap-south-1:148761660875:cluster/airflow-tf",
            "deployment_circuit_breaker": [
              {
                "enable": false,
                "rollback": false
              }
            ],
            "deployment_controller": [
              {
                "type": "ECS"
              }
            ],
            "deployment_maximum_percent": 200,
            "deployment_minimum_healthy_percent": 100,
            "desired_count": 1,
            "enable_ecs_managed_tags": false,
            "enable_execute_command": false,
            "force_new_deployment": null,
            "health_check_grace_period_seconds": 0,
            "iam_role": "/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS",
            "id": "arn:aws:ecs:ap-south-1:148761660875:service/airflow-tf/worker",
            "launch_type": "EC2",
            "load_balancer": [],
            "name": "worker",
            "network_configuration": [
              {
                "assign_public_ip": false,
                "security_groups": [
                  "sg-059cbc229e85fa25a"
                ],
                "subnets": [
                  "subnet-012bd7a5bb6aa5801",
                  "subnet-03df71b634d6d927a"
                ]
              }
            ],
            "ordered_placement_strategy": [],
            "placement_constraints": [
              {
                "expression": "attribute:tier in ['worker']",
                "type": "memberOf"
              }
            ],
            "platform_version": "",
            "propagate_tags": "SERVICE",
            "scheduling_strategy": "REPLICA",
            "service_connect_configuration": [],
            "service_registries": [
              {
                "container_name": "",
                "container_port": 0,
                "port": 0,
                "registry_arn": "arn:aws:servicediscovery:ap-south-1:148761660875:service/srv-hoyw2bprycpdzgdg"
              }
            ],
            "tags": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "worker"
            },
            "tags_all": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "worker"
            },
            "task_definition": "arn:aws:ecs:ap-south-1:148761660875:task-definition/worker:3",
            "timeouts": null,
            "triggers": {},
            "wait_for_steady_state": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_ecs_cluster.airflow",
            "aws_ecs_service.postgres",
            "aws_ecs_service.scheduler",
            "aws_ecs_task_definition.postgres",
            "aws_ecs_task_definition.scheduler",
            "aws_ecs_task_definition.worker",
            "aws_efs_access_point.postgres",
            "aws_efs_file_system.postgres",
            "aws_efs_mount_target.postgres_mt",
            "aws_iam_role.postgres-task-execution-role",
            "aws_iam_role.postgres-task-role",
            "aws_iam_role.scheduler-task-execution-role",
            "aws_iam_role.scheduler-task-role",
            "aws_iam_role.worker-task-execution-role",
            "aws_iam_role.worker-task-role",
            "aws_secretsmanager_secret.airflow_ui_admin_password",
            "aws_security_group.default",
            "aws_service_discovery_private_dns_namespace.cloudmap",
            "aws_service_discovery_service.postgres",
            "aws_service_discovery_service.scheduler",
            "aws_service_discovery_service.worker",
            "data.aws_iam_policy_document.postgres_inline_policy",
            "data.aws_iam_policy_document.scheduler_inline_policy_secrets",
            "data.template_file.postgres_container_definitions",
            "data.template_file.scheduler_container_definitions",
            "data.template_file.worker_container_definitions"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "flower",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:ap-south-1:148761660875:task-definition/flower:3",
            "arn_without_revision": "arn:aws:ecs:ap-south-1:148761660875:task-definition/flower",
            "container_definitions": "[{\"command\":[\"celery\",\"flower\"],\"cpu\":0,\"dnsSearchDomains\":[],\"dnsServers\":[],\"dockerLabels\":{},\"dockerSecurityOptions\":[],\"entryPoint\":[],\"environment\":[{\"name\":\"AIRFLOW__API__AUTH_BACKENDS\",\"value\":\"airflow.api.auth.backend.basic_auth,airflow.api.auth.backend.session\"},{\"name\":\"AIRFLOW__CELERY__BROKER_URL\",\"value\":\"redis://:@redis.airflow.local:6379/0\"},{\"name\":\"AIRFLOW__CELERY__RESULT_BACKEND\",\"value\":\"db+postgresql://airflow:airflow@postgres.airflow.local/airflow\"},{\"name\":\"AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION\",\"value\":\"true\"},{\"name\":\"AIRFLOW__CORE__EXECUTOR\",\"value\":\"CeleryExecutor\"},{\"name\":\"AIRFLOW__CORE__LOAD_EXAMPLES\",\"value\":\"False\"},{\"name\":\"AIRFLOW__CORE__SQL_ALCHEMY_CONN\",\"value\":\"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"},{\"name\":\"AIRFLOW__DATABASE__SQL_ALCHEMY_CONN\",\"value\":\"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"}],\"environmentFiles\":[],\"essential\":true,\"extraHosts\":[],\"image\":\"docker.io/apache/airflow:2.5.1@sha256:eef7c1cfcdd60a8dff245f2388aca35c4eaaa3077342357be3b1a6e46d62aa84\",\"links\":[],\"linuxParameters\":{\"devices\":[],\"tmpfs\":[]},\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]},\"mountPoints\":[],\"name\":\"airflow-flower\",\"portMappings\":[{\"containerPort\":5555,\"hostPort\":5555,\"protocol\":\"tcp\"}],\"secrets\":[],\"systemControls\":[],\"ulimits\":[],\"user\":\"50000:0\",\"volumesFrom\":[]}]",
            "cpu": "256",
            "ephemeral_storage": [],
            "execution_role_arn": "arn:aws:iam::148761660875:role/terraform-2024091720181966250000000b",
            "family": "flower",
            "id": "flower",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "512",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [],
            "requires_compatibilities": [
              "EC2"
            ],
            "revision": 3,
            "runtime_platform": [],
            "skip_destroy": false,
            "tags": null,
            "tags_all": {},
            "task_role_arn": "arn:aws:iam::148761660875:role/terraform-20240917201817128200000002",
            "volume": [
              {
                "docker_volume_configuration": [],
                "efs_volume_configuration": [],
                "fsx_windows_file_server_volume_configuration": [],
                "host_path": "/opt/airflow/dags",
                "name": "airflow"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_iam_role.flower-task-execution-role",
            "aws_iam_role.flower-task-role",
            "data.template_file.flower_container_definitions"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "postgres",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:ap-south-1:148761660875:task-definition/postgres:3",
            "arn_without_revision": "arn:aws:ecs:ap-south-1:148761660875:task-definition/postgres",
            "container_definitions": "[{\"command\":[],\"cpu\":0,\"dnsSearchDomains\":[],\"dnsServers\":[],\"dockerLabels\":{},\"dockerSecurityOptions\":[],\"entryPoint\":[],\"environment\":[{\"name\":\"POSTGRES_DB\",\"value\":\"airflow\"},{\"name\":\"POSTGRES_PASSWORD\",\"value\":\"airflow\"},{\"name\":\"POSTGRES_USER\",\"value\":\"airflow\"}],\"environmentFiles\":[],\"essential\":true,\"extraHosts\":[],\"healthCheck\":{\"command\":[\"CMD\",\"pg_isready\",\"-U\",\"airflow\"],\"interval\":5,\"retries\":5,\"timeout\":5},\"image\":\"docker.io/library/postgres:13@sha256:ecf9c1734b958041a3ce8c347e45f3e782c46be2ea30af68187877be1c063092\",\"links\":[],\"linuxParameters\":{\"devices\":[],\"tmpfs\":[]},\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]},\"mountPoints\":[{\"containerPath\":\"/var/lib/postgresql/data\",\"sourceVolume\":\"postgres-db-volume\"}],\"name\":\"postgres\",\"portMappings\":[],\"secrets\":[],\"systemControls\":[],\"ulimits\":[],\"volumesFrom\":[]}]",
            "cpu": "256",
            "ephemeral_storage": [],
            "execution_role_arn": "arn:aws:iam::148761660875:role/terraform-20240917201817129300000003",
            "family": "postgres",
            "id": "postgres",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "512",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [],
            "requires_compatibilities": [
              "FARGATE"
            ],
            "revision": 3,
            "runtime_platform": [],
            "skip_destroy": false,
            "tags": null,
            "tags_all": {},
            "task_role_arn": "arn:aws:iam::148761660875:role/terraform-20240917201826440400000012",
            "volume": [
              {
                "docker_volume_configuration": [],
                "efs_volume_configuration": [
                  {
                    "authorization_config": [
                      {
                        "access_point_id": "fsap-00d8d05bd8e79a481",
                        "iam": "ENABLED"
                      }
                    ],
                    "file_system_id": "fs-03e66b0ad1ab2a941",
                    "root_directory": "/",
                    "transit_encryption": "ENABLED",
                    "transit_encryption_port": null
                  }
                ],
                "fsx_windows_file_server_volume_configuration": [],
                "host_path": "",
                "name": "postgres-db-volume"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_efs_access_point.postgres",
            "aws_efs_file_system.postgres",
            "aws_iam_role.postgres-task-execution-role",
            "aws_iam_role.postgres-task-role",
            "data.aws_iam_policy_document.postgres_inline_policy",
            "data.template_file.postgres_container_definitions"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "redis",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:ap-south-1:148761660875:task-definition/redis:3",
            "arn_without_revision": "arn:aws:ecs:ap-south-1:148761660875:task-definition/redis",
            "container_definitions": "[{\"command\":[],\"cpu\":0,\"dnsSearchDomains\":[],\"dnsServers\":[],\"dockerLabels\":{},\"dockerSecurityOptions\":[],\"entryPoint\":[],\"environment\":[],\"environmentFiles\":[],\"essential\":true,\"extraHosts\":[],\"healthCheck\":{\"command\":[\"CMD\",\"redis-cli\",\"ping\"],\"interval\":5,\"retries\":10,\"timeout\":30},\"image\":\"docker.io/library/redis:latest@sha256:579dd1c5fc096aeac8d20bac605c95e9cbea11327243dec4da93e507af90c5a2\",\"links\":[],\"linuxParameters\":{\"devices\":[],\"tmpfs\":[]},\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]},\"mountPoints\":[],\"name\":\"redis\",\"portMappings\":[],\"secrets\":[],\"systemControls\":[],\"ulimits\":[],\"volumesFrom\":[]}]",
            "cpu": "256",
            "ephemeral_storage": [],
            "execution_role_arn": "arn:aws:iam::148761660875:role/terraform-20240917201817129400000004",
            "family": "redis",
            "id": "redis",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "512",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [],
            "requires_compatibilities": [
              "FARGATE"
            ],
            "revision": 3,
            "runtime_platform": [],
            "skip_destroy": false,
            "tags": null,
            "tags_all": {},
            "task_role_arn": "arn:aws:iam::148761660875:role/terraform-20240917201817130400000007",
            "volume": []
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_iam_role.redis-task-execution-role",
            "aws_iam_role.redis-task-role",
            "data.template_file.redis_container_definitions"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "scheduler",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:ap-south-1:148761660875:task-definition/scheduler:3",
            "arn_without_revision": "arn:aws:ecs:ap-south-1:148761660875:task-definition/scheduler",
            "container_definitions": "[{\"command\":[\"-c\",\"function ver() {\\n  printf \\\"%04d%04d%04d%04d\\\" ${1//./ }\\n}\\none_meg=1048576\\nmem_available=$(($(getconf _PHYS_PAGES) * $(getconf PAGE_SIZE) / one_meg))\\ncpus_available=$(grep -cE 'cpu[0-9]+' /proc/stat)\\ndisk_available=$(df / | tail -1 | awk '{print $4}')\\nwarning_resources=\\\"false\\\"\\nif (( mem_available \u003c 4000 )) ; then\\n  echo\\n  echo -e \\\"\\\\033[1;33mWARNING!!!: Not enough memory available for Docker.\\\\e[0m\\\"\\n  echo \\\"At least 4GB of memory required. You have $(numfmt --to iec $((mem_available * one_meg)))\\\"\\n  echo\\n  warning_resources=\\\"true\\\"\\nfi\\nif (( cpus_available \u003c 2 )); then\\n  echo\\n  echo -e \\\"\\\\033[1;33mWARNING!!!: Not enough CPUS available for Docker.\\\\e[0m\\\"\\n  echo \\\"At least 2 CPUs recommended. You have ${cpus_available}\\\"\\n  echo\\n  warning_resources=\\\"true\\\"\\nfi\\nif (( disk_available \u003c one_meg * 10 )); then\\n  echo\\n  echo -e \\\"\\\\033[1;33mWARNING!!!: Not enough Disk space available for Docker.\\\\e[0m\\\"\\n  echo \\\"At least 10 GBs recommended. You have $(numfmt --to iec $((disk_available * 1024 )))\\\"\\n  echo\\n  warning_resources=\\\"true\\\"\\nfi\\nif [[ ${warning_resources} == \\\"true\\\" ]]; then\\n  echo\\n  echo -e \\\"\\\\033[1;33mWARNING!!!: You have not enough resources to run Airflow (see above)!\\\\e[0m\\\"\\n  echo \\\"Please follow the instructions to increase amount of resources available:\\\"\\n  echo \\\"   https://airflow.apache.org/docs/apache-airflow/stable/howto/docker-compose/index.html#before-you-begin\\\"\\n  echo\\nfi\\nmkdir -p /opt/airflow/dags\\nchown -R \\\"50000:0\\\" /opt/airflow/dags\\nexec /entrypoint airflow scheduler\"],\"cpu\":0,\"dnsSearchDomains\":[],\"dnsServers\":[],\"dockerLabels\":{},\"dockerSecurityOptions\":[],\"entryPoint\":[\"/bin/bash\"],\"environment\":[{\"name\":\"AIRFLOW_UID\",\"value\":\"0\"},{\"name\":\"AIRFLOW__API__AUTH_BACKENDS\",\"value\":\"airflow.api.auth.backend.basic_auth,airflow.api.auth.backend.session\"},{\"name\":\"AIRFLOW__CELERY__BROKER_URL\",\"value\":\"redis://:@redis.airflow.local:6379/0\"},{\"name\":\"AIRFLOW__CELERY__RESULT_BACKEND\",\"value\":\"db+postgresql://airflow:airflow@postgres.airflow.local/airflow\"},{\"name\":\"AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION\",\"value\":\"true\"},{\"name\":\"AIRFLOW__CORE__EXECUTOR\",\"value\":\"CeleryExecutor\"},{\"name\":\"AIRFLOW__CORE__LOAD_EXAMPLES\",\"value\":\"False\"},{\"name\":\"AIRFLOW__CORE__SQL_ALCHEMY_CONN\",\"value\":\"postgresql+psycopg2://airflow:airflow@postgre.airflow.local/airflow\"},{\"name\":\"AIRFLOW__DATABASE__SQL_ALCHEMY_CONN\",\"value\":\"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"},{\"name\":\"_AIRFLOW_DB_UPGRADE\",\"value\":\"true\"},{\"name\":\"_AIRFLOW_WWW_USER_CREATE\",\"value\":\"true\"},{\"name\":\"_AIRFLOW_WWW_USER_USERNAME\",\"value\":\"airflow\"}],\"environmentFiles\":[],\"essential\":true,\"extraHosts\":[],\"image\":\"docker.io/apache/airflow:2.5.1@sha256:eef7c1cfcdd60a8dff245f2388aca35c4eaaa3077342357be3b1a6e46d62aa84\",\"links\":[],\"linuxParameters\":{\"devices\":[],\"tmpfs\":[]},\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]},\"mountPoints\":[{\"containerPath\":\"/opt/airflow/dags\",\"sourceVolume\":\"airflow\"}],\"name\":\"airflow-scheduler\",\"portMappings\":[],\"secrets\":[{\"name\":\"_AIRFLOW_WWW_USER_PASSWORD\",\"valueFrom\":\"arn:aws:secretsmanager:ap-south-1:148761660875:secret:airflow-ui-admin-password-AOu3f6\"}],\"systemControls\":[],\"ulimits\":[],\"user\":\"50000:0\",\"volumesFrom\":[]}]",
            "cpu": "256",
            "ephemeral_storage": [],
            "execution_role_arn": "arn:aws:iam::148761660875:role/terraform-2024091720182070590000000d",
            "family": "scheduler",
            "id": "scheduler",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "512",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [],
            "requires_compatibilities": [
              "EC2"
            ],
            "revision": 3,
            "runtime_platform": [],
            "skip_destroy": false,
            "tags": null,
            "tags_all": {},
            "task_role_arn": "arn:aws:iam::148761660875:role/terraform-2024091720182065880000000c",
            "volume": [
              {
                "docker_volume_configuration": [],
                "efs_volume_configuration": [],
                "fsx_windows_file_server_volume_configuration": [],
                "host_path": "/opt/airflow/dags",
                "name": "airflow"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_iam_role.scheduler-task-execution-role",
            "aws_iam_role.scheduler-task-role",
            "aws_secretsmanager_secret.airflow_ui_admin_password",
            "data.aws_iam_policy_document.scheduler_inline_policy_secrets",
            "data.template_file.scheduler_container_definitions"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "webserver",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:ap-south-1:148761660875:task-definition/webserver:3",
            "arn_without_revision": "arn:aws:ecs:ap-south-1:148761660875:task-definition/webserver",
            "container_definitions": "[{\"command\":[\"webserver\"],\"cpu\":0,\"dnsSearchDomains\":[],\"dnsServers\":[],\"dockerLabels\":{},\"dockerSecurityOptions\":[],\"entryPoint\":[],\"environment\":[{\"name\":\"AIRFLOW__API__AUTH_BACKENDS\",\"value\":\"airflow.api.auth.backend.basic_auth,airflow.api.auth.backend.session\"},{\"name\":\"AIRFLOW__CELERY__BROKER_URL\",\"value\":\"redis://:@redis.airflow.local:6379/0\"},{\"name\":\"AIRFLOW__CELERY__RESULT_BACKEND\",\"value\":\"db+postgresql://airflow:airflow@postgres.airflow.local/airflow\"},{\"name\":\"AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION\",\"value\":\"true\"},{\"name\":\"AIRFLOW__CORE__EXECUTOR\",\"value\":\"CeleryExecutor\"},{\"name\":\"AIRFLOW__CORE__LOAD_EXAMPLES\",\"value\":\"False\"},{\"name\":\"AIRFLOW__CORE__SQL_ALCHEMY_CONN\",\"value\":\"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"},{\"name\":\"AIRFLOW__DATABASE__SQL_ALCHEMY_CONN\",\"value\":\"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"}],\"environmentFiles\":[],\"essential\":true,\"extraHosts\":[],\"image\":\"docker.io/apache/airflow:2.5.1@sha256:eef7c1cfcdd60a8dff245f2388aca35c4eaaa3077342357be3b1a6e46d62aa84\",\"links\":[],\"linuxParameters\":{\"devices\":[],\"tmpfs\":[]},\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]},\"mountPoints\":[{\"containerPath\":\"/opt/airflow/dags\",\"sourceVolume\":\"airflow\"}],\"name\":\"airflow-webserver\",\"portMappings\":[{\"containerPort\":8080,\"hostPort\":8080,\"protocol\":\"tcp\"}],\"secrets\":[],\"systemControls\":[],\"ulimits\":[],\"user\":\"50000:0\",\"volumesFrom\":[]}]",
            "cpu": "512",
            "ephemeral_storage": [],
            "execution_role_arn": "arn:aws:iam::148761660875:role/terraform-20240917201818997600000009",
            "family": "webserver",
            "id": "webserver",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "1536",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [],
            "requires_compatibilities": [
              "EC2"
            ],
            "revision": 3,
            "runtime_platform": [],
            "skip_destroy": false,
            "tags": null,
            "tags_all": {},
            "task_role_arn": "arn:aws:iam::148761660875:role/terraform-20240917201817127700000001",
            "volume": [
              {
                "docker_volume_configuration": [],
                "efs_volume_configuration": [],
                "fsx_windows_file_server_volume_configuration": [],
                "host_path": "/opt/airflow/dags",
                "name": "airflow"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_iam_role.webserver-task-execution-role",
            "aws_iam_role.webserver-task-role",
            "data.template_file.webserver_container_definitions"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "worker",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:ap-south-1:148761660875:task-definition/worker:3",
            "arn_without_revision": "arn:aws:ecs:ap-south-1:148761660875:task-definition/worker",
            "container_definitions": "[{\"command\":[\"celery\",\"worker\"],\"cpu\":0,\"dnsSearchDomains\":[],\"dnsServers\":[],\"dockerLabels\":{},\"dockerSecurityOptions\":[],\"entryPoint\":[],\"environment\":[{\"name\":\"AIRFLOW__API__AUTH_BACKENDS\",\"value\":\"airflow.api.auth.backend.basic_auth,airflow.api.auth.backend.session\"},{\"name\":\"AIRFLOW__CELERY__BROKER_URL\",\"value\":\"redis://:@redis.airflow.local:6379/0\"},{\"name\":\"AIRFLOW__CELERY__RESULT_BACKEND\",\"value\":\"db+postgresql://airflow:airflow@postgres.airflow.local/airflow\"},{\"name\":\"AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION\",\"value\":\"true\"},{\"name\":\"AIRFLOW__CORE__EXECUTOR\",\"value\":\"CeleryExecutor\"},{\"name\":\"AIRFLOW__CORE__LOAD_EXAMPLES\",\"value\":\"true\"},{\"name\":\"AIRFLOW__CORE__SQL_ALCHEMY_CONN\",\"value\":\"postgresql+psycopg2://airflow:airflow@postgres/airflow\"},{\"name\":\"AIRFLOW__DATABASE__SQL_ALCHEMY_CONN\",\"value\":\"postgresql+psycopg2://airflow:airflow@postgres.airflow.local/airflow\"},{\"name\":\"DUMB_INIT_SETSID\",\"value\":\"0\"}],\"environmentFiles\":[],\"essential\":true,\"extraHosts\":[],\"image\":\"docker.io/apache/airflow:2.5.1@sha256:eef7c1cfcdd60a8dff245f2388aca35c4eaaa3077342357be3b1a6e46d62aa84\",\"links\":[],\"linuxParameters\":{\"devices\":[],\"tmpfs\":[]},\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"airflow\",\"awslogs-region\":\"ap-south-1\",\"awslogs-stream-prefix\":\"airflow\"},\"secretOptions\":[]},\"mountPoints\":[{\"containerPath\":\"/opt/airflow/dags\",\"sourceVolume\":\"airflow\"}],\"name\":\"airflow-worker\",\"portMappings\":[],\"secrets\":[],\"systemControls\":[],\"ulimits\":[],\"user\":\"50000:0\",\"volumesFrom\":[]}]",
            "cpu": "512",
            "ephemeral_storage": [],
            "execution_role_arn": "arn:aws:iam::148761660875:role/terraform-20240917201817130300000006",
            "family": "worker",
            "id": "worker",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "2048",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [],
            "requires_compatibilities": [
              "EC2"
            ],
            "revision": 3,
            "runtime_platform": [],
            "skip_destroy": false,
            "tags": null,
            "tags_all": {},
            "task_role_arn": "arn:aws:iam::148761660875:role/terraform-2024091720181909200000000a",
            "volume": [
              {
                "docker_volume_configuration": [],
                "efs_volume_configuration": [],
                "fsx_windows_file_server_volume_configuration": [],
                "host_path": "/opt/airflow/dags",
                "name": "airflow"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_iam_role.worker-task-execution-role",
            "aws_iam_role.worker-task-role",
            "data.template_file.worker_container_definitions"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_efs_access_point",
      "name": "postgres",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticfilesystem:ap-south-1:148761660875:access-point/fsap-00d8d05bd8e79a481",
            "file_system_arn": "arn:aws:elasticfilesystem:ap-south-1:148761660875:file-system/fs-03e66b0ad1ab2a941",
            "file_system_id": "fs-03e66b0ad1ab2a941",
            "id": "fsap-00d8d05bd8e79a481",
            "owner_id": "148761660875",
            "posix_user": [],
            "root_directory": [
              {
                "creation_info": [],
                "path": "/"
              }
            ],
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_efs_file_system.postgres"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_efs_file_system",
      "name": "postgres",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticfilesystem:ap-south-1:148761660875:file-system/fs-03e66b0ad1ab2a941",
            "availability_zone_id": "",
            "availability_zone_name": "",
            "creation_token": "postgres-efs",
            "dns_name": "fs-03e66b0ad1ab2a941.efs.ap-south-1.amazonaws.com",
            "encrypted": true,
            "id": "fs-03e66b0ad1ab2a941",
            "kms_key_id": "arn:aws:kms:ap-south-1:148761660875:key/f627a930-37a6-45a0-aadb-acb2231c5f43",
            "lifecycle_policy": [],
            "number_of_mount_targets": 0,
            "owner_id": "148761660875",
            "performance_mode": "generalPurpose",
            "provisioned_throughput_in_mibps": 0,
            "size_in_bytes": [
              {
                "value": 6144,
                "value_in_ia": 0,
                "value_in_standard": 6144
              }
            ],
            "tags": {
              "Name": "postgres-efs"
            },
            "tags_all": {
              "Name": "postgres-efs"
            },
            "throughput_mode": "bursting"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_efs_mount_target",
      "name": "postgres_mt",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "subnet1a",
          "schema_version": 0,
          "attributes": {
            "availability_zone_id": "aps1-az3",
            "availability_zone_name": "ap-south-1b",
            "dns_name": "fs-03e66b0ad1ab2a941.efs.ap-south-1.amazonaws.com",
            "file_system_arn": "arn:aws:elasticfilesystem:ap-south-1:148761660875:file-system/fs-03e66b0ad1ab2a941",
            "file_system_id": "fs-03e66b0ad1ab2a941",
            "id": "fsmt-0f90b1c663b76d3f5",
            "ip_address": "172.31.4.181",
            "mount_target_dns_name": "ap-south-1b.fs-03e66b0ad1ab2a941.efs.ap-south-1.amazonaws.com",
            "network_interface_id": "eni-0a4e1bb3d5fc35a4c",
            "owner_id": "148761660875",
            "security_groups": [
              "sg-059cbc229e85fa25a"
            ],
            "subnet_id": "subnet-012bd7a5bb6aa5801",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_efs_file_system.postgres",
            "aws_security_group.default"
          ]
        },
        {
          "index_key": "subnet1b",
          "schema_version": 0,
          "attributes": {
            "availability_zone_id": "aps1-az2",
            "availability_zone_name": "ap-south-1c",
            "dns_name": "fs-03e66b0ad1ab2a941.efs.ap-south-1.amazonaws.com",
            "file_system_arn": "arn:aws:elasticfilesystem:ap-south-1:148761660875:file-system/fs-03e66b0ad1ab2a941",
            "file_system_id": "fs-03e66b0ad1ab2a941",
            "id": "fsmt-05e2178c8a78684db",
            "ip_address": "172.31.29.146",
            "mount_target_dns_name": "ap-south-1c.fs-03e66b0ad1ab2a941.efs.ap-south-1.amazonaws.com",
            "network_interface_id": "eni-0c2354f6e2287da4d",
            "owner_id": "148761660875",
            "security_groups": [
              "sg-059cbc229e85fa25a"
            ],
            "subnet_id": "subnet-03df71b634d6d927a",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_efs_file_system.postgres",
            "aws_security_group.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "ecs_instance_profile",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::148761660875:instance-profile/ecs-instance-profile",
            "create_date": "2024-09-17T20:18:22Z",
            "id": "ecs-instance-profile",
            "name": "ecs-instance-profile",
            "name_prefix": "",
            "path": "/",
            "role": "ecs-instance-role",
            "tags": null,
            "tags_all": {},
            "unique_id": "AIPASFIXCZXFXPBYFAICW"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.ecs_instance_role",
            "aws_s3_bucket.airflow",
            "data.aws_iam_policy_document.s3_access"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "ecs_instance_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::148761660875:role/ecs-instance-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"ecs.amazonaws.com\",\"ec2.amazonaws.com\"]},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-09-17T20:18:20Z",
            "description": "",
            "force_detach_policies": false,
            "id": "ecs-instance-role",
            "inline_policy": [
              {
                "name": "s3_access",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"s3:PutObject\",\"s3:ListObject\",\"s3:GetObject\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::airflow20240917201817138400000008/*\",\"Sid\":\"\"},{\"Action\":\"s3:ListBucket\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::airflow20240917201817138400000008\",\"Sid\":\"\"}]}"
              }
            ],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/service-role/AmazonEC2ContainerServiceforEC2Role"
            ],
            "max_session_duration": 3600,
            "name": "ecs-instance-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "role_last_used": [
              {
                "last_used_date": "",
                "region": ""
              }
            ],
            "tags": null,
            "tags_all": {},
            "unique_id": "AROASFIXCZXFTHXGZCTIA"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.airflow",
            "data.aws_iam_policy_document.s3_access"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "flower-task-execution-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::148761660875:role/terraform-2024091720181966250000000b",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-09-17T20:18:19Z",
            "description": "",
            "force_detach_policies": false,
            "id": "terraform-2024091720181966250000000b",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly",
              "arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"
            ],
            "max_session_duration": 3600,
            "name": "terraform-2024091720181966250000000b",
            "name_prefix": "terraform-",
            "path": "/",
            "permissions_boundary": null,
            "role_last_used": [
              {
                "last_used_date": "",
                "region": ""
              }
            ],
            "tags": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "flower"
            },
            "tags_all": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "flower"
            },
            "unique_id": "AROASFIXCZXF45BZQF67I"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "flower-task-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::148761660875:role/terraform-20240917201817128200000002",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-09-17T20:18:18Z",
            "description": "",
            "force_detach_policies": false,
            "id": "terraform-20240917201817128200000002",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "terraform-20240917201817128200000002",
            "name_prefix": "terraform-",
            "path": "/",
            "permissions_boundary": null,
            "role_last_used": [
              {
                "last_used_date": "",
                "region": ""
              }
            ],
            "tags": null,
            "tags_all": {},
            "unique_id": "AROASFIXCZXFVKE5WMD7J"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "postgres-task-execution-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::148761660875:role/terraform-20240917201817129300000003",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-09-17T20:18:18Z",
            "description": "",
            "force_detach_policies": false,
            "id": "terraform-20240917201817129300000003",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly",
              "arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"
            ],
            "max_session_duration": 3600,
            "name": "terraform-20240917201817129300000003",
            "name_prefix": "terraform-",
            "path": "/",
            "permissions_boundary": null,
            "role_last_used": [
              {
                "last_used_date": "",
                "region": ""
              }
            ],
            "tags": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "postgres"
            },
            "tags_all": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "postgres"
            },
            "unique_id": "AROASFIXCZXFZ7W4FS6FQ"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "postgres-task-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::148761660875:role/terraform-20240917201826440400000012",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-09-17T20:18:26Z",
            "description": "",
            "force_detach_policies": false,
            "id": "terraform-20240917201826440400000012",
            "inline_policy": [
              {
                "name": "AirflowpostgresAirflowVolumeMountPolicy",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"elasticfilesystem:ClientWrite\",\"elasticfilesystem:ClientRootAccess\",\"elasticfilesystem:ClientMount\"],\"Condition\":{\"StringEquals\":{\"elasticfilesystem:AccessPointArn\":\"arn:aws:elasticfilesystem:ap-south-1:148761660875:access-point/fsap-00d8d05bd8e79a481\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:elasticfilesystem:ap-south-1:148761660875:file-system/fs-03e66b0ad1ab2a941\",\"Sid\":\"\"}]}"
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "terraform-20240917201826440400000012",
            "name_prefix": "terraform-",
            "path": "/",
            "permissions_boundary": null,
            "role_last_used": [
              {
                "last_used_date": "",
                "region": ""
              }
            ],
            "tags": null,
            "tags_all": {},
            "unique_id": "AROASFIXCZXF5XX7KEWC6"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_efs_access_point.postgres",
            "aws_efs_file_system.postgres",
            "data.aws_iam_policy_document.postgres_inline_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "redis-task-execution-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::148761660875:role/terraform-20240917201817129400000004",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-09-17T20:18:18Z",
            "description": "",
            "force_detach_policies": false,
            "id": "terraform-20240917201817129400000004",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly",
              "arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"
            ],
            "max_session_duration": 3600,
            "name": "terraform-20240917201817129400000004",
            "name_prefix": "terraform-",
            "path": "/",
            "permissions_boundary": null,
            "role_last_used": [
              {
                "last_used_date": "",
                "region": ""
              }
            ],
            "tags": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "redis"
            },
            "tags_all": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "redis"
            },
            "unique_id": "AROASFIXCZXFUEIGN6TX2"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "redis-task-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::148761660875:role/terraform-20240917201817130400000007",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-09-17T20:18:18Z",
            "description": "",
            "force_detach_policies": false,
            "id": "terraform-20240917201817130400000007",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "terraform-20240917201817130400000007",
            "name_prefix": "terraform-",
            "path": "/",
            "permissions_boundary": null,
            "role_last_used": [
              {
                "last_used_date": "",
                "region": ""
              }
            ],
            "tags": null,
            "tags_all": {},
            "unique_id": "AROASFIXCZXFROSG4TJSM"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "scheduler-task-execution-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::148761660875:role/terraform-2024091720182070590000000d",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-09-17T20:18:20Z",
            "description": "",
            "force_detach_policies": false,
            "id": "terraform-2024091720182070590000000d",
            "inline_policy": [
              {
                "name": "AirflowSchedulerAdminSecretPolicy",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"secretsmanager:GetSecretValue\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:ap-south-1:148761660875:secret:airflow-ui-admin-password-AOu3f6\",\"Sid\":\"\"}]}"
              }
            ],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly",
              "arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"
            ],
            "max_session_duration": 3600,
            "name": "terraform-2024091720182070590000000d",
            "name_prefix": "terraform-",
            "path": "/",
            "permissions_boundary": null,
            "role_last_used": [
              {
                "last_used_date": "",
                "region": ""
              }
            ],
            "tags": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "scheduler"
            },
            "tags_all": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "scheduler"
            },
            "unique_id": "AROASFIXCZXFVZIIBHAXB"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_secretsmanager_secret.airflow_ui_admin_password",
            "data.aws_iam_policy_document.scheduler_inline_policy_secrets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "scheduler-task-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::148761660875:role/terraform-2024091720182065880000000c",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-09-17T20:18:20Z",
            "description": "",
            "force_detach_policies": false,
            "id": "terraform-2024091720182065880000000c",
            "inline_policy": [
              {
                "name": "AirflowSchedulerAdminSecretPolicy",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"secretsmanager:GetSecretValue\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:ap-south-1:148761660875:secret:airflow-ui-admin-password-AOu3f6\",\"Sid\":\"\"}]}"
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "terraform-2024091720182065880000000c",
            "name_prefix": "terraform-",
            "path": "/",
            "permissions_boundary": null,
            "role_last_used": [
              {
                "last_used_date": "",
                "region": ""
              }
            ],
            "tags": null,
            "tags_all": {},
            "unique_id": "AROASFIXCZXFRNMSSHMPE"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_secretsmanager_secret.airflow_ui_admin_password",
            "data.aws_iam_policy_document.scheduler_inline_policy_secrets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "webserver-task-execution-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::148761660875:role/terraform-20240917201818997600000009",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-09-17T20:18:19Z",
            "description": "",
            "force_detach_policies": false,
            "id": "terraform-20240917201818997600000009",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly",
              "arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"
            ],
            "max_session_duration": 3600,
            "name": "terraform-20240917201818997600000009",
            "name_prefix": "terraform-",
            "path": "/",
            "permissions_boundary": null,
            "role_last_used": [
              {
                "last_used_date": "",
                "region": ""
              }
            ],
            "tags": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "webserver"
            },
            "tags_all": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "webserver"
            },
            "unique_id": "AROASFIXCZXFVTFT2XI4J"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "webserver-task-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::148761660875:role/terraform-20240917201817127700000001",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-09-17T20:18:18Z",
            "description": "",
            "force_detach_policies": false,
            "id": "terraform-20240917201817127700000001",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "terraform-20240917201817127700000001",
            "name_prefix": "terraform-",
            "path": "/",
            "permissions_boundary": null,
            "role_last_used": [
              {
                "last_used_date": "",
                "region": ""
              }
            ],
            "tags": null,
            "tags_all": {},
            "unique_id": "AROASFIXCZXFSUIEIKDBI"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "worker-task-execution-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::148761660875:role/terraform-20240917201817130300000006",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-09-17T20:18:18Z",
            "description": "",
            "force_detach_policies": false,
            "id": "terraform-20240917201817130300000006",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly",
              "arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"
            ],
            "max_session_duration": 3600,
            "name": "terraform-20240917201817130300000006",
            "name_prefix": "terraform-",
            "path": "/",
            "permissions_boundary": null,
            "role_last_used": [
              {
                "last_used_date": "",
                "region": ""
              }
            ],
            "tags": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "worker"
            },
            "tags_all": {
              "com.docker.compose.project": "airflow",
              "com.docker.compose.service": "worker"
            },
            "unique_id": "AROASFIXCZXFQJ6GB7T3Y"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "worker-task-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::148761660875:role/terraform-2024091720181909200000000a",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2024-09-17T20:18:19Z",
            "description": "",
            "force_detach_policies": false,
            "id": "terraform-2024091720181909200000000a",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "terraform-2024091720181909200000000a",
            "name_prefix": "terraform-",
            "path": "/",
            "permissions_boundary": null,
            "role_last_used": [
              {
                "last_used_date": "",
                "region": ""
              }
            ],
            "tags": null,
            "tags_all": {},
            "unique_id": "AROASFIXCZXFSQ4J6T4WL"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_launch_template",
      "name": "core",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-south-1:148761660875:launch-template/lt-02ffc47b789bb43b7",
            "block_device_mappings": [],
            "capacity_reservation_specification": [],
            "cpu_options": [],
            "credit_specification": [],
            "default_version": 1,
            "description": "",
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_optimized": "",
            "elastic_gpu_specifications": [],
            "elastic_inference_accelerator": [],
            "enclave_options": [],
            "hibernation_options": [],
            "iam_instance_profile": [
              {
                "arn": "",
                "name": "ecs-instance-profile"
              }
            ],
            "id": "lt-02ffc47b789bb43b7",
            "image_id": "ami-0888ba30fd446b771",
            "instance_initiated_shutdown_behavior": "",
            "instance_market_options": [],
            "instance_requirements": [],
            "instance_type": "t3.medium",
            "kernel_id": "",
            "key_name": "",
            "latest_version": 1,
            "license_specification": [],
            "maintenance_options": [],
            "metadata_options": [],
            "monitoring": [],
            "name": "core2024091720182385230000000e",
            "name_prefix": "core",
            "network_interfaces": [],
            "placement": [],
            "private_dns_name_options": [],
            "ram_disk_id": "",
            "security_group_names": null,
            "tag_specifications": [],
            "tags": null,
            "tags_all": {},
            "update_default_version": null,
            "user_data": "IyEvYmluL2Jhc2gKY2F0IDw8J0VPRicgPj4gL2V0Yy9lY3MvZWNzLmNvbmZpZwpFQ1NfQ0xVU1RFUj1haXJmbG93LXRmCkVDU19FTkdJTkVfQVVUSF9UWVBFPWRvY2tlcgpFQ1NfTE9HTEVWRUw9ZGVidWcKRUNTX0lOU1RBTkNFX0FUVFJJQlVURVM9eyJ0aWVyIjogImNvcmUifQpFT0YKCmNhdCA8PEVPRiA+L2V0Yy9kb2NrZXIvZGFlbW9uLmpzb24KeyJkZWJ1ZyI6IHRydWV9CkVPRgoKIyMgczNmcy1mdXNlCm1rZGlyIC1wIC9vcHQvYWlyZmxvdy9kYWdzCnNlZCAtaSAncy9lbmFibGVkPTAvZW5hYmxlZD0xLycgL2V0Yy95dW0ucmVwb3MuZC9lcGVsLnJlcG8KeXVtIGluc3RhbGwgLXkgZ2NjIGxpYnN0ZGMrKy1kZXZlbCBnY2MtYysrIGZ1c2UgZnVzZS1kZXZlbCBjdXJsLWRldmVsIGxpYnhtbDItZGV2ZWwgbWFpbGNhcCBhdXRvbWFrZSBvcGVuc3NsLWRldmVsIGdpdCAKZ2l0IGNsb25lIGh0dHBzOi8vZ2l0aHViLmNvbS9zM2ZzLWZ1c2UvczNmcy1mdXNlCmNkIHMzZnMtZnVzZS8KZ2l0IGNoZWNrb3V0IDg5NWQ1MDAKLi9hdXRvZ2VuLnNoCi4vY29uZmlndXJlIC0tcHJlZml4PS91c3IgLS13aXRoLW9wZW5zc2wKbWFrZQptYWtlIGluc3RhbGwKCnMzZnMgYWlyZmxvdzIwMjQwOTE3MjAxODE3MTM4NDAwMDAwMDA4IC1vIGlhbV9yb2xlPWVjcy1pbnN0YW5jZS1yb2xlIC1vIGFsbG93X290aGVyIC1vIGhvc3Q9aHR0cDovL3MzLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbSAvb3B0L2FpcmZsb3cvZGFncwoKc3lzdGVtY3RsIHJlc3RhcnQgZG9ja2VyIC0tbm8tYmxvY2s=",
            "vpc_security_group_ids": [
              "sg-059cbc229e85fa25a"
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_instance_profile.ecs_instance_profile",
            "aws_iam_role.ecs_instance_role",
            "aws_s3_bucket.airflow",
            "aws_security_group.default",
            "data.aws_iam_policy_document.s3_access"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_launch_template",
      "name": "worker",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-south-1:148761660875:launch-template/lt-0867064289500ae32",
            "block_device_mappings": [],
            "capacity_reservation_specification": [],
            "cpu_options": [],
            "credit_specification": [],
            "default_version": 1,
            "description": "",
            "disable_api_stop": false,
            "disable_api_termination": false,
            "ebs_optimized": "",
            "elastic_gpu_specifications": [],
            "elastic_inference_accelerator": [],
            "enclave_options": [],
            "hibernation_options": [],
            "iam_instance_profile": [
              {
                "arn": "",
                "name": "ecs-instance-profile"
              }
            ],
            "id": "lt-0867064289500ae32",
            "image_id": "ami-0888ba30fd446b771",
            "instance_initiated_shutdown_behavior": "",
            "instance_market_options": [
              {
                "market_type": "spot",
                "spot_options": []
              }
            ],
            "instance_requirements": [],
            "instance_type": "t3.medium",
            "kernel_id": "",
            "key_name": "",
            "latest_version": 1,
            "license_specification": [],
            "maintenance_options": [],
            "metadata_options": [],
            "monitoring": [],
            "name": "worker20240917201823874800000010",
            "name_prefix": "worker",
            "network_interfaces": [],
            "placement": [],
            "private_dns_name_options": [],
            "ram_disk_id": "",
            "security_group_names": null,
            "tag_specifications": [],
            "tags": null,
            "tags_all": {},
            "update_default_version": null,
            "user_data": "IyEvYmluL2Jhc2gKY2F0IDw8J0VPRicgPj4gL2V0Yy9lY3MvZWNzLmNvbmZpZwpFQ1NfQ0xVU1RFUj1haXJmbG93LXRmCkVDU19FTkdJTkVfQVVUSF9UWVBFPWRvY2tlcgpFQ1NfTE9HTEVWRUw9ZGVidWcKRUNTX0lOU1RBTkNFX0FUVFJJQlVURVM9eyJ0aWVyIjogIndvcmtlciJ9CkVPRgoKY2F0IDw8RU9GID4vZXRjL2RvY2tlci9kYWVtb24uanNvbgp7ImRlYnVnIjogdHJ1ZX0KRU9GCgojIyBzM2ZzLWZ1c2UKbWtkaXIgLXAgL29wdC9haXJmbG93L2RhZ3MKc2VkIC1pICdzL2VuYWJsZWQ9MC9lbmFibGVkPTEvJyAvZXRjL3l1bS5yZXBvcy5kL2VwZWwucmVwbwp5dW0gaW5zdGFsbCAteSBnY2MgbGlic3RkYysrLWRldmVsIGdjYy1jKysgZnVzZSBmdXNlLWRldmVsIGN1cmwtZGV2ZWwgbGlieG1sMi1kZXZlbCBtYWlsY2FwIGF1dG9tYWtlIG9wZW5zc2wtZGV2ZWwgZ2l0IApnaXQgY2xvbmUgaHR0cHM6Ly9naXRodWIuY29tL3MzZnMtZnVzZS9zM2ZzLWZ1c2UKY2QgczNmcy1mdXNlLwpnaXQgY2hlY2tvdXQgODk1ZDUwMAouL2F1dG9nZW4uc2gKLi9jb25maWd1cmUgLS1wcmVmaXg9L3VzciAtLXdpdGgtb3BlbnNzbAptYWtlCm1ha2UgaW5zdGFsbAoKczNmcyBhaXJmbG93MjAyNDA5MTcyMDE4MTcxMzg0MDAwMDAwMDggLW8gaWFtX3JvbGU9ZWNzLWluc3RhbmNlLXJvbGUgLW8gYWxsb3dfb3RoZXIgLW8gaG9zdD1odHRwOi8vczMuYXAtc291dGgtMS5hbWF6b25hd3MuY29tIC9vcHQvYWlyZmxvdy9kYWdzCgpzeXN0ZW1jdGwgcmVzdGFydCBkb2NrZXIgLS1uby1ibG9jaw==",
            "vpc_security_group_ids": [
              "sg-059cbc229e85fa25a"
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_instance_profile.ecs_instance_profile",
            "aws_iam_role.ecs_instance_role",
            "aws_s3_bucket.airflow",
            "aws_security_group.default",
            "data.aws_iam_policy_document.s3_access"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb",
      "name": "airflow",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:ap-south-1:148761660875:loadbalancer/net/airflow/f1586e0b97970a2e",
            "arn_suffix": "net/airflow/f1586e0b97970a2e",
            "customer_owned_ipv4_pool": "",
            "desync_mitigation_mode": null,
            "dns_name": "airflow-f1586e0b97970a2e.elb.ap-south-1.amazonaws.com",
            "drop_invalid_header_fields": null,
            "enable_cross_zone_load_balancing": false,
            "enable_deletion_protection": false,
            "enable_http2": null,
            "enable_tls_version_and_cipher_suite_headers": null,
            "enable_waf_fail_open": null,
            "enable_xff_client_port": null,
            "id": "arn:aws:elasticloadbalancing:ap-south-1:148761660875:loadbalancer/net/airflow/f1586e0b97970a2e",
            "idle_timeout": null,
            "internal": false,
            "ip_address_type": "ipv4",
            "load_balancer_type": "network",
            "name": "airflow",
            "name_prefix": null,
            "preserve_host_header": null,
            "security_groups": [],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-012bd7a5bb6aa5801"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-03df71b634d6d927a"
              }
            ],
            "subnets": [
              "subnet-012bd7a5bb6aa5801",
              "subnet-03df71b634d6d927a"
            ],
            "tags": null,
            "tags_all": {},
            "timeouts": null,
            "vpc_id": "vpc-04b5a6106f2cd8ea5",
            "xff_header_processing_mode": null,
            "zone_id": "ZVDDRBQ08TROA"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "flower",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alpn_policy": null,
            "arn": "arn:aws:elasticloadbalancing:ap-south-1:148761660875:listener/net/airflow/f1586e0b97970a2e/d90b8bd5a869018c",
            "certificate_arn": null,
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:ap-south-1:148761660875:targetgroup/flower/464fac84c9e782b4",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-south-1:148761660875:listener/net/airflow/f1586e0b97970a2e/d90b8bd5a869018c",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:ap-south-1:148761660875:loadbalancer/net/airflow/f1586e0b97970a2e",
            "port": 5555,
            "protocol": "TCP",
            "ssl_policy": "",
            "tags": null,
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsicmVhZCI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_lb.airflow",
            "aws_lb_target_group.flower"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "webserver",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alpn_policy": null,
            "arn": "arn:aws:elasticloadbalancing:ap-south-1:148761660875:listener/net/airflow/f1586e0b97970a2e/0a0f489f3914798a",
            "certificate_arn": null,
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:ap-south-1:148761660875:targetgroup/webserver/b0f2d9194cd22cfb",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-south-1:148761660875:listener/net/airflow/f1586e0b97970a2e/0a0f489f3914798a",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:ap-south-1:148761660875:loadbalancer/net/airflow/f1586e0b97970a2e",
            "port": 8080,
            "protocol": "TCP",
            "ssl_policy": "",
            "tags": null,
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsicmVhZCI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_lb.airflow",
            "aws_lb_target_group.webserver"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "flower",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:ap-south-1:148761660875:targetgroup/flower/464fac84c9e782b4",
            "arn_suffix": "targetgroup/flower/464fac84c9e782b4",
            "connection_termination": false,
            "deregistration_delay": "300",
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 5,
                "interval": 30,
                "matcher": "",
                "path": "",
                "port": "traffic-port",
                "protocol": "TCP",
                "timeout": 10,
                "unhealthy_threshold": 2
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-south-1:148761660875:targetgroup/flower/464fac84c9e782b4",
            "ip_address_type": "ipv4",
            "lambda_multi_value_headers_enabled": false,
            "load_balancing_algorithm_type": null,
            "load_balancing_cross_zone_enabled": "use_load_balancer_configuration",
            "name": "flower",
            "name_prefix": null,
            "port": 5555,
            "preserve_client_ip": "false",
            "protocol": "TCP",
            "protocol_version": null,
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [
              {
                "cookie_duration": 0,
                "cookie_name": "",
                "enabled": false,
                "type": "source_ip"
              }
            ],
            "tags": null,
            "tags_all": {},
            "target_failover": [
              {
                "on_deregistration": null,
                "on_unhealthy": null
              }
            ],
            "target_type": "ip",
            "vpc_id": "vpc-04b5a6106f2cd8ea5"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "webserver",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:ap-south-1:148761660875:targetgroup/webserver/b0f2d9194cd22cfb",
            "arn_suffix": "targetgroup/webserver/b0f2d9194cd22cfb",
            "connection_termination": false,
            "deregistration_delay": "300",
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 5,
                "interval": 30,
                "matcher": "",
                "path": "",
                "port": "traffic-port",
                "protocol": "TCP",
                "timeout": 10,
                "unhealthy_threshold": 2
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-south-1:148761660875:targetgroup/webserver/b0f2d9194cd22cfb",
            "ip_address_type": "ipv4",
            "lambda_multi_value_headers_enabled": false,
            "load_balancing_algorithm_type": null,
            "load_balancing_cross_zone_enabled": "use_load_balancer_configuration",
            "name": "webserver",
            "name_prefix": null,
            "port": 8080,
            "preserve_client_ip": "false",
            "protocol": "TCP",
            "protocol_version": null,
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [
              {
                "cookie_duration": 0,
                "cookie_name": "",
                "enabled": false,
                "type": "source_ip"
              }
            ],
            "tags": null,
            "tags_all": {},
            "target_failover": [
              {
                "on_deregistration": null,
                "on_unhealthy": null
              }
            ],
            "target_type": "ip",
            "vpc_id": "vpc-04b5a6106f2cd8ea5"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "airflow",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": null,
            "arn": "arn:aws:s3:::airflow20240917201817138400000008",
            "bucket": "airflow20240917201817138400000008",
            "bucket_domain_name": "airflow20240917201817138400000008.s3.amazonaws.com",
            "bucket_prefix": "airflow",
            "bucket_regional_domain_name": "airflow20240917201817138400000008.s3.ap-south-1.amazonaws.com",
            "cors_rule": [],
            "force_destroy": false,
            "grant": [
              {
                "id": "3c144bf9c7ff414b5b0e6d9621f6054c1a8192798b696292bd1f9969bcac15ed",
                "permissions": [
                  "FULL_CONTROL"
                ],
                "type": "CanonicalUser",
                "uri": ""
              }
            ],
            "hosted_zone_id": "Z11RGJOFQNVJUP",
            "id": "airflow20240917201817138400000008",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "object_lock_enabled": false,
            "policy": "",
            "region": "ap-south-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ],
                    "bucket_key_enabled": false
                  }
                ]
              }
            ],
            "tags": {
              "Name": "airflow"
            },
            "tags_all": {
              "Name": "airflow"
            },
            "timeouts": null,
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_secretsmanager_secret",
      "name": "airflow_ui_admin_password",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:ap-south-1:148761660875:secret:airflow-ui-admin-password-AOu3f6",
            "description": "",
            "force_overwrite_replica_secret": false,
            "id": "arn:aws:secretsmanager:ap-south-1:148761660875:secret:airflow-ui-admin-password-AOu3f6",
            "kms_key_id": "",
            "name": "airflow-ui-admin-password",
            "name_prefix": "",
            "policy": "",
            "recovery_window_in_days": 0,
            "replica": [],
            "rotation_enabled": false,
            "rotation_lambda_arn": "",
            "rotation_rules": [],
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_secretsmanager_secret_version",
      "name": "airflow_ui_admin_password",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:ap-south-1:148761660875:secret:airflow-ui-admin-password-AOu3f6",
            "id": "arn:aws:secretsmanager:ap-south-1:148761660875:secret:airflow-ui-admin-password-AOu3f6|AA49C1FC-548D-4C73-8E79-B54AF3AA81C7",
            "secret_binary": "",
            "secret_id": "arn:aws:secretsmanager:ap-south-1:148761660875:secret:airflow-ui-admin-password-AOu3f6",
            "secret_string": "5Zh$Fn-):Yg4d5$2",
            "version_id": "AA49C1FC-548D-4C73-8E79-B54AF3AA81C7",
            "version_stages": [
              "AWSCURRENT"
            ]
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "secret_string"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "secret_binary"
              }
            ]
          ],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_secretsmanager_secret.airflow_ui_admin_password",
            "random_password.airflow_ui_admin_password"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-south-1:148761660875:security-group/sg-059cbc229e85fa25a",
            "description": "Default SG",
            "egress": [],
            "id": "sg-059cbc229e85fa25a",
            "ingress": [],
            "name": "airflow",
            "name_prefix": "",
            "owner_id": "148761660875",
            "revoke_rules_on_delete": false,
            "tags": null,
            "tags_all": {},
            "timeouts": null,
            "vpc_id": "vpc-04b5a6106f2cd8ea5"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "allow_internal_traffic",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": null,
            "description": "Allow internal network traffic",
            "from_port": 0,
            "id": "sgrule-1243291235",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "-1",
            "security_group_id": "sg-059cbc229e85fa25a",
            "security_group_rule_id": "sgr-0aefcfbce24f3d373",
            "self": false,
            "source_security_group_id": "sg-059cbc229e85fa25a",
            "timeouts": null,
            "to_port": 0,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "allow_internal_traffic_by_IP",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "172.31.0.0/16"
            ],
            "description": "Allow internal network traffic by IP",
            "from_port": 0,
            "id": "sgrule-1526599073",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "-1",
            "security_group_id": "sg-059cbc229e85fa25a",
            "security_group_rule_id": "sgr-0e4d850ea40dd8446",
            "self": false,
            "source_security_group_id": null,
            "timeouts": null,
            "to_port": 0,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.default",
            "data.aws_vpc.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "out",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "Allow Internet outbound",
            "from_port": 0,
            "id": "sgrule-671172228",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "-1",
            "security_group_id": "sg-059cbc229e85fa25a",
            "security_group_rule_id": "sgr-0864349ddae3aaf32",
            "self": false,
            "source_security_group_id": null,
            "timeouts": null,
            "to_port": 0,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_service_discovery_private_dns_namespace",
      "name": "cloudmap",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:servicediscovery:ap-south-1:148761660875:namespace/ns-kuv7kmsgofz6kosg",
            "description": "Service Map for Docker Compose project airflow",
            "hosted_zone": "Z04051211ANJ07II99IG3",
            "id": "ns-kuv7kmsgofz6kosg",
            "name": "airflow.local",
            "tags": null,
            "tags_all": {},
            "vpc": "vpc-04b5a6106f2cd8ea5"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_service_discovery_service",
      "name": "flower",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:servicediscovery:ap-south-1:148761660875:service/srv-zvvd5f6t6xkl5cno",
            "description": "\"flower\" service discovery entry in Cloud Map",
            "dns_config": [
              {
                "dns_records": [
                  {
                    "ttl": 60,
                    "type": "A"
                  }
                ],
                "namespace_id": "ns-kuv7kmsgofz6kosg",
                "routing_policy": "MULTIVALUE"
              }
            ],
            "force_destroy": false,
            "health_check_config": [],
            "health_check_custom_config": [
              {
                "failure_threshold": 1
              }
            ],
            "id": "srv-zvvd5f6t6xkl5cno",
            "name": "flower",
            "namespace_id": "ns-kuv7kmsgofz6kosg",
            "tags": null,
            "tags_all": {},
            "type": "DNS_HTTP"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_service_discovery_private_dns_namespace.cloudmap"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_service_discovery_service",
      "name": "postgres",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:servicediscovery:ap-south-1:148761660875:service/srv-s4ppkrcrlragm5xm",
            "description": "\"postgres\" service discovery entry in Cloud Map",
            "dns_config": [
              {
                "dns_records": [
                  {
                    "ttl": 60,
                    "type": "A"
                  }
                ],
                "namespace_id": "ns-kuv7kmsgofz6kosg",
                "routing_policy": "MULTIVALUE"
              }
            ],
            "force_destroy": false,
            "health_check_config": [],
            "health_check_custom_config": [
              {
                "failure_threshold": 1
              }
            ],
            "id": "srv-s4ppkrcrlragm5xm",
            "name": "postgres",
            "namespace_id": "ns-kuv7kmsgofz6kosg",
            "tags": null,
            "tags_all": {},
            "type": "DNS_HTTP"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_service_discovery_private_dns_namespace.cloudmap"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_service_discovery_service",
      "name": "redis",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:servicediscovery:ap-south-1:148761660875:service/srv-avkmbjc6mfvwe46t",
            "description": "\"redis\" service discovery entry in Cloud Map",
            "dns_config": [
              {
                "dns_records": [
                  {
                    "ttl": 60,
                    "type": "A"
                  }
                ],
                "namespace_id": "ns-kuv7kmsgofz6kosg",
                "routing_policy": "MULTIVALUE"
              }
            ],
            "force_destroy": false,
            "health_check_config": [],
            "health_check_custom_config": [
              {
                "failure_threshold": 1
              }
            ],
            "id": "srv-avkmbjc6mfvwe46t",
            "name": "redis",
            "namespace_id": "ns-kuv7kmsgofz6kosg",
            "tags": null,
            "tags_all": {},
            "type": "DNS_HTTP"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_service_discovery_private_dns_namespace.cloudmap"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_service_discovery_service",
      "name": "scheduler",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:servicediscovery:ap-south-1:148761660875:service/srv-naqnfguqwoizm4kf",
            "description": "\"scheduler\" service discovery entry in Cloud Map",
            "dns_config": [
              {
                "dns_records": [
                  {
                    "ttl": 60,
                    "type": "A"
                  }
                ],
                "namespace_id": "ns-kuv7kmsgofz6kosg",
                "routing_policy": "MULTIVALUE"
              }
            ],
            "force_destroy": false,
            "health_check_config": [],
            "health_check_custom_config": [
              {
                "failure_threshold": 1
              }
            ],
            "id": "srv-naqnfguqwoizm4kf",
            "name": "scheduler",
            "namespace_id": "ns-kuv7kmsgofz6kosg",
            "tags": null,
            "tags_all": {},
            "type": "DNS_HTTP"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_service_discovery_private_dns_namespace.cloudmap"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_service_discovery_service",
      "name": "webserver",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:servicediscovery:ap-south-1:148761660875:service/srv-nvnzaypdfew6legu",
            "description": "\"webserver\" service discovery entry in Cloud Map",
            "dns_config": [
              {
                "dns_records": [
                  {
                    "ttl": 60,
                    "type": "A"
                  }
                ],
                "namespace_id": "ns-kuv7kmsgofz6kosg",
                "routing_policy": "MULTIVALUE"
              }
            ],
            "force_destroy": false,
            "health_check_config": [],
            "health_check_custom_config": [
              {
                "failure_threshold": 1
              }
            ],
            "id": "srv-nvnzaypdfew6legu",
            "name": "webserver",
            "namespace_id": "ns-kuv7kmsgofz6kosg",
            "tags": null,
            "tags_all": {},
            "type": "DNS_HTTP"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_service_discovery_private_dns_namespace.cloudmap"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_service_discovery_service",
      "name": "worker",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:servicediscovery:ap-south-1:148761660875:service/srv-hoyw2bprycpdzgdg",
            "description": "\"worker\" service discovery entry in Cloud Map",
            "dns_config": [
              {
                "dns_records": [
                  {
                    "ttl": 60,
                    "type": "A"
                  }
                ],
                "namespace_id": "ns-kuv7kmsgofz6kosg",
                "routing_policy": "MULTIVALUE"
              }
            ],
            "force_destroy": false,
            "health_check_config": [],
            "health_check_custom_config": [
              {
                "failure_threshold": 1
              }
            ],
            "id": "srv-hoyw2bprycpdzgdg",
            "name": "worker",
            "namespace_id": "ns-kuv7kmsgofz6kosg",
            "tags": null,
            "tags_all": {},
            "type": "DNS_HTTP"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_service_discovery_private_dns_namespace.cloudmap"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_password",
      "name": "airflow_ui_admin_password",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 3,
          "attributes": {
            "bcrypt_hash": "$2a$10$2QXPW6OOb5QOcyAAaLOEveLZ93V1HDy/dKGLb9PuYCfFswEo.11rK",
            "id": "none",
            "keepers": null,
            "length": 16,
            "lower": true,
            "min_lower": 0,
            "min_numeric": 0,
            "min_special": 0,
            "min_upper": 0,
            "number": true,
            "numeric": true,
            "override_special": "!#$%\u0026*()-_=+[]{}\u003c\u003e:?",
            "result": "5Zh$Fn-):Yg4d5$2",
            "special": true,
            "upper": true
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "result"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "bcrypt_hash"
              }
            ]
          ]
        }
      ]
    }
  ],
  "check_results": null
}
